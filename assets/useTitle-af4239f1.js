import{K as ea,L as ta,N as In,O as na,m as rt,P as aa,_ as Y,o as e,h as N,p as ie,d as oa,k as V,v as Dn,t as ia,Q as ra,a as fe,U as sa,S as ca,M as Bt,V as la,W as ua,X as $n,Y as da,Z as ha,$ as ma,a0 as pa,a1 as ga,a2 as fa,a3 as va,a4 as ba,a5 as at,a6 as ya,a7 as ka,a8 as _a,g as wa,T as Pn,a9 as xa,F as He,y as Nt,aa as un,q as Ea,c as st,ab as dn,D as La,b as It,J as Rn,C as Ta,ac as Fa,I as Aa,ad as Ca,x as Mn,ae as Sa,af as hn,u as mn,ag as Ia,f as Da,w as pn}from"./vendor-5ba15347.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();const $a="modulepreload",Pa=function(t){return"/phanpy/"+t},gn={},_=function(n,a,r){if(!a||a.length===0)return n();const o=document.getElementsByTagName("link");return Promise.all(a.map(s=>{if(s=Pa(s,r),s in gn)return;gn[s]=!0;const c=s.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const l=o[u];if(l.href===s&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${g}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":$a,c||(m.as="script",m.crossOrigin=""),m.href=s,document.head.appendChild(m),c)return new Promise((u,l)=>{m.addEventListener("load",u),m.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};function On(t){const n=$.local.getJSON("accounts")||[];return n.find(a=>a.info.id===t)||n[0]}function _t(){const t=$.session.get("currentAccount");return On(t)}function gt(){const t=_t(),{instanceURL:n,info:{id:a}}=t;return`${a}@${n}`}function Ra(t){const n=$.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.info.id);a?(a.info=t.info,a.instanceURL=t.instanceURL,a.accessToken=t.accessToken):n.push(t),$.local.setJSON("accounts",n),$.session.set("currentAccount",t.info.id)}function Uo(t){const n=$.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.id);a&&(a.info.displayName!==t.displayName||a.info.avatar!==t.avatar||a.info.avatar_static!==t.avatar_static)&&(a.info={...a.info,...t},$.local.setJSON("accounts",n))}let Dt=null;function zn(){if(Dt)return Dt;try{const t=_t(),n=$.local.getJSON("instances"),a=t.instanceURL.toLowerCase();return Dt=n[a]}catch(t){return alert(`Failed to load instance configuration. Please try again.

${t}`),$.local.del("instances"),location.reload(),{}}}const Ie={get:t=>{try{return localStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(Ie.get(t))}catch{return null}},set:(t,n)=>{try{return localStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return Ie.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return localStorage.removeItem(t)}catch{return null}}},jt={get:t=>{try{return sessionStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(jt.get(t))}catch{return null}},set:(t,n)=>{try{return sessionStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return jt.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return sessionStorage.removeItem(t)}catch{return null}}},Ma={get:t=>{try{return Ie.getJSON(t)[gt()]}catch{return null}},set:(t,n)=>{try{const a=Ie.getJSON(t)||{};return a[gt()]=n,Ie.setJSON(t,a)}catch{return null}},del:t=>{try{const n=Ie.getJSON(t)||{};return delete n[gt()],Ie.setJSON(t,n)}catch{return null}}},$={local:Ie,session:jt,account:Ma},ft="mastodon.social",vt={},Be={};let Ue;function Xe({instance:t,accessToken:n}){/^https?:\/\//.test(t)&&(t=t.replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase());const a=t?`https://${t}`:`https://${ft}`,r=ea({url:a,accessToken:n,disableVersionCheck:!0,timeout:3e4});return r.__instance__=t,vt[t]=r,Be[t]||(Be[t]={}),n&&(Be[t][n]=r),r}async function Ho(t,n){const a=t;let r;try{r=await a.v2.instance.fetch()}catch{}if(!r)try{r=await a.v1.instances.fetch()}catch{}if(!r)return;const{uri:o,urls:{streamingApi:s}={},domain:c,configuration:{urls:{streaming:g}={}}={}}=r,h=$.local.getJSON("instances")||{};(o||c)&&(h[(c||o).replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase()]=r),n&&(h[n.toLowerCase()]=r),$.local.setJSON("instances",h),(s||g)&&(a.config.props.streamingApiUrl=g||s)}async function Ko(t,n,a){const o=await t.v1.accounts.verifyCredentials();$.session.set("currentAccount",o.id),Ra({info:o,instanceURL:n.toLowerCase(),accessToken:a})}async function qo(t){try{const a=await t.v1.preferences.fetch();$.account.set("preferences",a)}catch{}}function $e({instance:t,accessToken:n,accountID:a,account:r}={}){var s,c,g;if(t&&(t=t.toLowerCase().trim()),t&&n)return{masto:((s=Be[t])==null?void 0:s[n])||Xe({instance:t,accessToken:n}),authenticated:!0,instance:t};if(r||a)if(r=r||On(a),r){const h=r.accessToken,m=r.instanceURL.toLowerCase().trim();return{masto:((c=Be[m])==null?void 0:c[h])||Xe({instance:m,accessToken:h}),authenticated:!0,instance:m}}else throw new Error(`Account ${a} not found`);if(t){const h=vt[t]||Xe({instance:t});return{masto:h,authenticated:!!h.config.props.accessToken,instance:t}}if(Ue)return{masto:Ue,authenticated:!0,instance:Ue.__instance__};const o=_t();if(o){const{accessToken:h,instanceURL:m}=o;return Ue=((g=Be[m])==null?void 0:g[h])||Xe({instance:m,accessToken:h}),{masto:Ue,authenticated:!0,instance:m}}return{masto:vt[ft]||Xe({instance:ft}),authenticated:!1,instance:ft}}window.__API__={currentAccountApi:Ue,apis:vt,accountApis:Be};const T=ta({appVersion:{},prevLocation:null,currentLocation:null,statuses:{},statusThreadNumber:{},home:[],homeNew:[],homeLast:null,homeLastFetchTime:null,notifications:[],notificationsLast:$.account.get("notificationsLast")||null,notificationsNew:[],notificationsShowNew:!1,notificationsLastFetchTime:null,accounts:{},reloadStatusPage:0,spoilers:{},scrollPositions:{},unfurledLinks:{},statusQuotes:{},accounts:{},showCompose:!1,showSettings:!1,showAccount:!1,showAccounts:!1,showDrafts:!1,showMediaModal:!1,showShortcutsSettings:!1,shortcuts:$.account.get("shortcuts")??[],settings:{onlyMentions:$.account.get("settings-onlyMentions")??!1,autoRefresh:$.account.get("settings-autoRefresh")??!1,shortcutsViewMode:$.account.get("settings-shortcutsViewMode")??null,shortcutsColumnsMode:$.account.get("settings-shortcutsColumnsMode")??!1,boostsCarousel:$.account.get("settings-boostsCarousel")??!0,contentTranslation:$.account.get("settings-contentTranslation")??!0,contentTranslationTargetLanguage:$.account.get("settings-contentTranslationTargetLanguage")||null,contentTranslationHideLanguages:$.account.get("settings-contentTranslationHideLanguages")||[],contentTranslationAutoInline:$.account.get("settings-contentTranslationAutoInline")??!1,cloakMode:$.account.get("settings-cloakMode")??!1}});In(T,"notificationsLast",t=>{$.account.set("notificationsLast",T.notificationsLast)});na(T,t=>{for(const[n,a,r,o]of t)a.join(".")==="settings.onlyMentions"&&$.account.set("settings-onlyMentions",!!r),a.join(".")==="settings.autoRefresh"&&$.account.set("settings-autoRefresh",!!r),a.join(".")==="settings.boostsCarousel"&&$.account.set("settings-boostsCarousel",!!r),a.join(".")==="settings.shortcutsColumnsMode"&&$.account.set("settings-shortcutsColumnsMode",!!r),a.join(".")==="settings.shortcutsViewMode"&&$.account.set("settings-shortcutsViewMode",r),a.join(".")==="settings.contentTranslation"&&$.account.set("settings-contentTranslation",!!r),a.join(".")==="settings.contentTranslationAutoInline"&&$.account.set("settings-contentTranslationAutoInline",!!r),a.join(".")==="settings.contentTranslationTargetLanguage"&&$.account.set("settings-contentTranslationTargetLanguage",r),/^settings\.contentTranslationHideLanguages/i.test(a.join("."))&&$.account.set("settings-contentTranslationHideLanguages",T.settings.contentTranslationHideLanguages),(a==null?void 0:a[0])==="shortcuts"&&$.account.set("shortcuts",T.shortcuts),a.join(".")==="settings.cloakMode"&&$.account.set("settings-cloakMode",!!r)});function Wo(){T.showCompose=!1,T.showSettings=!1,T.showAccount=!1,T.showAccounts=!1,T.showDrafts=!1,T.showMediaModal=!1,T.showShortcutsSettings=!1}function Pe(t,n){if(t)return n?`${n}/${t}`:t}function Bn(t,n){if(n){const a=Pe(t,n);return T.statuses[a]}return T.statuses[t]}function be(t,n,a){typeof n=="object"&&(a=n,n=null);const{override:r,skipThreading:o}=Object.assign({override:!0,skipThreading:!1},a);if(!t)return;const s=Bn(t.id,n);if(!r&&s)return;const c=Pe(t.id,n);if(s!=null&&s._pinned&&(t._pinned=s._pinned),s!=null&&s._filtered&&(t._filtered=s._filtered),T.statuses[c]=t,t.reblog){const g=Pe(t.reblog.id,n);T.statuses[g]=t.reblog}o||requestAnimationFrame(()=>{fn(t,n),t.reblog&&fn(t.reblog,n)})}function fn(t,n){const{masto:a,instance:r}=$e({instance:n});let o=0;async function s(c,g=0){const{inReplyToId:h,inReplyToAccountId:m}=c;if(!h||m!==c.account.id)return[c];if(h&&m!==c.account.id)throw"Not a thread";const u=Pe(h,r);let l=T.statuses[u];if(!l){if(o++>3)throw"Too many fetches for thread";await new Promise(d=>setTimeout(d,500*o)),l=await Oa(h,a),be(l,r,{skipThreading:!0})}return[...await s(l,++g),c]}return s(t).then(c=>{c.length>1&&c.forEach((g,h)=>{const m=Pe(g.id,r);T.statusThreadNumber[m]=h+1})}).catch(c=>{})}const Oa=rt((t,n)=>n.v1.statuses.fetch(t));function Nn(t,n=[]){return t?(!n.length||t.indexOf(":")===-1||n.forEach(a=>{const{shortcode:r,staticUrl:o,url:s}=a;t=t.replace(new RegExp(`:${r}:`,"g"),`<picture><source srcset="${o}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${r}:" width="12" height="12" loading="lazy" decoding="async" /></picture>`)}),t):""}const Ve=document.createElement("div");function Vt(t,n={}){const{emojis:a,postEnhanceDOM:r=()=>{}}=n;let o=t;const s=document.createElement("div");s.innerHTML=o;const c=/<a/i.test(o),g=o.indexOf("```")!==-1;c&&Array.from(s.querySelectorAll('a:not([target="_blank"])')).forEach(u=>{u.setAttribute("target","_blank")}),c&&Array.from(s.querySelectorAll("a[href]")).forEach(u=>{/^https?:\/\//i.test(u.textContent.trim())&&u.classList.add("has-url-text")}),c&&Array.from(s.querySelectorAll("a[href]")).forEach(u=>{const l=u.innerText.trim(),d=u.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(l)){const b=l.split("@")[1];d||(u.innerHTML=`@<span>${b}</span>`),u.classList.add("mention")}/^#[^#]+$/g.test(l)&&(d||(u.innerHTML=`#<span>${l.slice(1)}</span>`),u.classList.add("mention","hashtag"))});let h;if(o.indexOf(":")!==-1&&(h=$t(s),h.forEach(m=>{let u=m.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a&&(u=Nn(u,a)),Ve.innerHTML=u;const l=Array.from(Ve.childNodes);m.replaceWith(...l)})),g&&Array.from(s.querySelectorAll("p")).filter(u=>/^```[^]+```$/g.test(u.innerText.trim())).forEach(u=>{const l=document.createElement("pre");u.querySelectorAll("br").forEach(d=>d.replaceWith(`
`)),l.innerHTML=`<code>${u.innerHTML.trim()}</code>`,u.replaceWith(l)}),g&&Array.from(s.querySelectorAll("p")).filter(l=>/^```/g.test(l.innerText)).forEach(l=>{const d=[l];let b=!1,y=l;for(;y.nextElementSibling;){const v=y.nextElementSibling;if(v&&v.tagName==="P")if(/```$/g.test(v.innerText)){d.push(v),b=!0;break}else d.push(v);else break;y=v}if(b){const v=document.createElement("pre");d.forEach(w=>{w.querySelectorAll("br").forEach(E=>E.replaceWith(`
`))});const f=d.map(w=>w.innerHTML).join(`

`);v.innerHTML=`<code>${f}</code>`,l.replaceWith(v),d.forEach(w=>w.remove())}}),o.indexOf("`")!==-1&&(h=$t(s),h.forEach(m=>{let u=m.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(u)&&(u=u.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),Ve.innerHTML=u;const l=Array.from(Ve.childNodes);m.replaceWith(...l)})),/twitter\.com/i.test(o)&&(h=$t(s,{rejectFilter:["A"]}),h.forEach(m=>{let u=m.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(u)&&(u=u.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),Ve.innerHTML=u;const l=Array.from(Ve.childNodes);m.replaceWith(...l)})),o.indexOf("#")!==-1){let m=null;const u=Array.from(s.querySelectorAll("p")).filter((l,d)=>{let b=0;for(let y=0;y<l.childNodes.length;y++){const v=l.childNodes[y];if(v.nodeType===Node.TEXT_NODE){if(v.textContent.trim()!=="")return!1}else if(v.tagName!=="BR")if(v.tagName==="A"){const f=v.textContent.trim();if(!f||!f.startsWith("#"))return!1;b++}else return!1}if(b>3||b>1&&m&&d===m+1)return m=d,!0});u!=null&&u.length&&u.forEach(l=>{l.classList.add("hashtag-stuffing"),l.title=l.innerText})}return r&&r(s),o=s.innerHTML,o}const za=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Ba=Object.fromEntries(za.map(t=>[t,!0]));function $t(t,n={}){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(s){return Ba[s.parentNode.nodeName]||n.rejectFilter&&n.rejectFilter.includes(s.parentNode.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let o;for(;o=r.nextNode();)a.push(o);return a}const Pt=document.createElement("div");function jn(t){return t?(Pt.innerHTML=t.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Pt.querySelectorAll("br").forEach(n=>{n.replaceWith(`
`)}),Pt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}function Na(t){const{mentions:n=[],instance:a,previewMode:r}=t||{};return o=>{var h,m;let{target:s}=o;if(s=s.closest("a"),!s)return;const c=(h=s.previousSibling)==null?void 0:h.textContent,g=c==null?void 0:c.endsWith("@");if(s.classList.contains("u-url")||g){const u=(s.querySelector("span")||s).innerText.trim(),l=u.replace(/^@/,""),d=s.getAttribute("href"),b=n.find(y=>y.username===l||y.acct===l||y.url===d);if(b)o.preventDefault(),o.stopPropagation(),T.showAccount={account:b.acct,instance:a};else if(!/^http/i.test(u)){o.preventDefault(),o.stopPropagation();const y=s.getAttribute("href");T.showAccount={account:y,instance:a}}}else if(!r){const u=c==null?void 0:c.endsWith("#");if(s.classList.contains("hashtag")||u){o.preventDefault(),o.stopPropagation();const l=s.innerText.replace(/^#/,"").trim(),d=a?`#/${a}/t/${l}`:`#/t/${l}`;location.hash=d}else(m=T.unfurledLinks[s.href])!=null&&m.url&&(o.preventDefault(),o.stopPropagation(),T.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${T.unfurledLinks[s.href].url}`)}}}const{locale:ja}=new Intl.DateTimeFormat().resolvedOptions();function bt(t,{hideTime:n,formatOpts:a}={}){t instanceof Date||(t=new Date(t));const r=new Date().getFullYear();return Intl.DateTimeFormat(ja,{year:t.getFullYear()===r?void 0:"numeric",month:"short",day:"numeric",hour:n?void 0:"numeric",minute:n?void 0:"numeric",...a}).format(t)}const{locale:Va}=Intl.NumberFormat().resolvedOptions(),qe=Intl.NumberFormat(Va,{notation:"compact"}).format;function Ae(t){typeof t=="string"&&(t={text:t});const{onClick:n,delay:a,...r}=t,o=aa({className:`${n||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...r,onClick:()=>{n==null||n(o)}});a?setTimeout(()=>{o.showToast()},a):o.showToast()}const vn={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},Qe={},et=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),Rt=et.getContext("2d");function Re({url:t,size:n,alt:a="",squircle:r,...o}){n=vn[n]||n||vn.m;const s=Y(),c=/missing\.png$/.test(t);return e("span",{ref:s,class:`avatar ${r?"squircle":""} ${Qe[t]?"has-alpha":""}`,style:{width:n,height:n},title:a,...o,children:!!t&&e("img",{src:t,width:n,height:n,alt:a,loading:"lazy",decoding:"async",crossOrigin:Qe[t]===void 0&&!c?"anonymous":void 0,onError:g=>{g.target.crossOrigin&&(g.target.crossOrigin=null,g.target.src=t)},onLoad:g=>{if(s.current&&(s.current.dataset.loaded=!0),Qe[t]===void 0&&!c)try{const{width:h,height:m}=g.target;et.width!==h&&(et.width=h),et.height!==m&&(et.height=m),Rt.drawImage(g.target,0,0);const u=Rt.getImageData(0,0,h,m),l=u.data.filter((d,b)=>b%4===3&&d<=128).length/(u.data.length/4)>.1;l&&s.current.classList.add("has-alpha"),Qe[t]=l,Rt.clearRect(0,0,h,m)}catch{Qe[t]=!1}}})})}function ot({text:t,emojis:n}){if(!t)return"";if(!(n!=null&&n.length)||t.indexOf(":")===-1)return t;const a=new RegExp(`:(${n.map(o=>o.shortcode).join("|")}):`,"g");return t.split(a).map(o=>{const s=n.find(c=>c.shortcode===o);if(s){const{url:c,staticUrl:g}=s;return e("picture",{children:[e("source",{srcset:g,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:c,alt:o,class:"shortcode-emoji emoji",width:"12",height:"12",loading:"lazy",decoding:"async"},o)]})}return o})}const Ua={s:12,m:16,l:20,xl:24,xxl:32},Ha={x:()=>_(()=>import("./icons/close-line-1e607fd7.js"),[]),heart:()=>_(()=>import("./icons/heart-line-58c847a5.js"),[]),bookmark:()=>_(()=>import("./icons/bookmark-line-6b313284.js"),[]),"check-circle":()=>_(()=>import("./icons/check-circle-line-482cc23b.js"),[]),"x-circle":()=>_(()=>import("./icons/close-circle-line-f70541d9.js"),[]),transfer:()=>_(()=>import("./icons/transfer-4-line-b7cbb98b.js"),[]),rocket:()=>_(()=>import("./icons/rocket-line-101de3ec.js"),[]),"arrow-left":()=>_(()=>import("./icons/arrow-left-line-0feb3aa8.js"),[]),"arrow-right":()=>_(()=>import("./icons/arrow-right-line-694dabc1.js"),[]),"arrow-up":()=>_(()=>import("./icons/arrow-up-line-95e379ea.js"),[]),"arrow-down":()=>_(()=>import("./icons/arrow-down-line-bb178ce2.js"),[]),earth:()=>_(()=>import("./icons/earth-line-5c4df1e5.js"),[]),lock:()=>_(()=>import("./icons/lock-line-d71022d2.js"),[]),unlock:()=>_(()=>import("./icons/unlock-line-cacd9f81.js"),[]),"eye-close":()=>_(()=>import("./icons/eye-close-line-da2db2a8.js"),[]),"eye-open":()=>_(()=>import("./icons/eye-2-line-64371d08.js"),[]),message:()=>_(()=>import("./icons/mail-line-655a57c1.js"),[]),comment:()=>_(()=>import("./icons/chat-3-line-51ad6e95.js"),[]),home:()=>_(()=>import("./icons/home-3-line-8018e019.js"),[]),notification:()=>_(()=>import("./icons/notification-line-6483301e.js"),[]),follow:()=>_(()=>import("./icons/user-follow-line-d4adf471.js"),[]),"follow-add":()=>_(()=>import("./icons/user-add-line-b53e9c05.js"),[]),poll:[()=>_(()=>import("./icons/chart-bar-line-ca6f21fb.js"),[]),"90deg"],pencil:()=>_(()=>import("./icons/pencil-line-7c3f3024.js"),[]),quill:()=>_(()=>import("./icons/quill-pen-line-992093b1.js"),[]),at:()=>_(()=>import("./icons/at-line-b5f1b18e.js"),[]),attachment:()=>_(()=>import("./icons/attachment-line-ebd7ec47.js"),[]),upload:()=>_(()=>import("./icons/upload-3-line-e7582c69.js"),[]),gear:()=>_(()=>import("./icons/settings-3-line-c7b6c1ed.js"),[]),more:()=>_(()=>import("./icons/more-3-line-9beec198.js"),[]),external:()=>_(()=>import("./icons/external-link-line-e805d30b.js"),[]),popout:()=>_(()=>import("./icons/external-link-line-e805d30b.js"),[]),popin:[()=>_(()=>import("./icons/external-link-line-e805d30b.js"),[]),"180deg"],plus:()=>_(()=>import("./icons/add-circle-line-0f9ede61.js"),[]),"chevron-left":()=>_(()=>import("./icons/left-line-8c6d4730.js"),[]),"chevron-right":()=>_(()=>import("./icons/right-line-a8ed19bd.js"),[]),reply:[()=>_(()=>import("./icons/share-forward-line-0e1cf661.js"),[]),"180deg","horizontal"],thread:()=>_(()=>import("./icons/route-line-edf25882.js"),[]),group:()=>_(()=>import("./icons/group-line-7fc1ae6f.js"),[]),bot:()=>_(()=>import("./icons/android-2-line-9258188e.js"),[]),menu:()=>_(()=>import("./icons/rows-4-line-b232add2.js"),[]),list:()=>_(()=>import("./icons/list-check-line-d954d344.js"),[]),search:()=>_(()=>import("./icons/search-2-line-91d20a16.js"),[]),hashtag:()=>_(()=>import("./icons/hashtag-line-173f0e0d.js"),[]),info:()=>_(()=>import("./icons/information-line-f740a4d0.js"),[]),shortcut:()=>_(()=>import("./icons/lightning-line-13c40c00.js"),[]),user:()=>_(()=>import("./icons/user-4-line-f6272bc4.js"),[]),following:()=>_(()=>import("./icons/walk-line-f9ac997b.js"),[]),pin:()=>_(()=>import("./icons/pin-line-1614dbce.js"),[]),bus:()=>_(()=>import("./icons/bus-2-line-287f972b.js"),[]),link:()=>_(()=>import("./icons/link-2-line-e03d0a4a.js"),[]),history:()=>_(()=>import("./icons/history-line-fe495dd5.js"),[]),share:()=>_(()=>import("./icons/share-2-line-24701383.js"),[]),sparkles:()=>_(()=>import("./icons/sparkles-line-c135b7ce.js"),[]),exit:()=>_(()=>import("./icons/exit-line-ec340eaf.js"),[]),translate:()=>_(()=>import("./icons/translate-line-2df19669.js"),[]),play:()=>_(()=>import("./icons/play-fill-36970130.js"),[]),trash:()=>_(()=>import("./icons/delete-2-line-682baf55.js"),[]),mute:()=>_(()=>import("./icons/volume-mute-line-9ab0102c.js"),[]),unmute:()=>_(()=>import("./icons/volume-line-9e549d94.js"),[]),block:()=>_(()=>import("./icons/forbid-circle-line-077295c5.js"),[]),unblock:[()=>_(()=>import("./icons/forbid-circle-line-077295c5.js"),[]),"180deg"],flag:()=>_(()=>import("./icons/flag-4-line-a416d7ea.js"),[]),time:()=>_(()=>import("./icons/time-line-78409f27.js"),[]),refresh:()=>_(()=>import("./icons/refresh-2-line-c573bc2e.js"),[]),emoji2:()=>_(()=>import("./icons/emoji-2-line-b853d04a.js"),[]),filter:()=>_(()=>import("./icons/filter-2-line-5c65a22f.js"),[]),chart:()=>_(()=>import("./icons/chart-line-line-e9099084.js"),[]),react:()=>_(()=>import("./icons/react-line-1e209827.js"),[]),layout4:()=>_(()=>import("./icons/layout-4-line-aff02a7f.js"),[]),layout5:()=>_(()=>import("./icons/layout-5-line-29b47e62.js"),[]),announce:()=>_(()=>import("./icons/announcement-line-71e251ef.js"),[]),alert:()=>_(()=>import("./icons/alert-line-d292623f.js"),[]),round:()=>_(()=>import("./icons/round-fill-d5665283.js"),[]),"arrow-up-circle":()=>_(()=>import("./icons/arrow-up-circle-line-92cd8597.js"),[]),"arrow-down-circle":()=>_(()=>import("./icons/arrow-down-circle-line-fb990a65.js"),[]),clipboard:()=>_(()=>import("./icons/clipboard-line-69c6b835.js"),[])};function x({icon:t,size:n="m",alt:a,title:r,class:o="",style:s={}}){if(!t)return null;const c=Ua[n];let g=Ha[t],h,m;Array.isArray(g)&&([g,h,m]=g);const[u,l]=N(null);return ie(async()=>{const d=await g();l(d.default)},[g]),e("div",{class:`icon ${o}`,title:r||a,style:{width:`${c}px`,height:`${c}px`,display:"inline-block",overflow:"hidden",lineHeight:0,...s},children:u&&e("svg",{width:c,height:c,viewBox:`0 0 ${u.width} ${u.height}`,dangerouslySetInnerHTML:{__html:u.body},style:{transform:`${h?`rotate(${h})`:""} ${m?"scaleX(-1)":""}`}})})}function Ka({skeleton:t,account:n,avatarSize:a="xl",instance:r,external:o,internal:s,onClick:c,showActivity:g=!1,showStats:h=!1}){if(t)return e("div",{class:"account-block skeleton",children:[e(Re,{size:a}),e("span",{children:[e("b",{children:"████████"}),e("br",{}),e("span",{class:"account-block-acct",children:"@██████"})]})]});const m=oa(),{id:u,acct:l,avatar:d,avatarStatic:b,displayName:y,username:v,emojis:f,url:w,statusesCount:E,lastStatusAt:F,bot:L,fields:I,note:H,group:U}=n,[Z,J,W]=l.match(/([^@]+)(@.+)/i)||[,l],q=I==null?void 0:I.find(K=>!!K.verifiedAt&&!!K.value);return e("a",{class:"account-block",href:w,target:o?"_blank":null,title:`@${l}`,onClick:K=>{if(!o){if(K.preventDefault(),c)return c(K);s?m(`/${r}/a/${u}`):T.showAccount={account:n,instance:r}}},children:[e(Re,{url:d,size:a,squircle:L}),e("span",{children:[y?e("b",{children:e(ot,{text:y,emojis:f})}):e("b",{children:v}),e("br",{}),e("span",{class:"account-block-acct",children:["@",J,e("wbr",{}),W]}),g&&e(V,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",E,!!F&&e(V,{children:[" ","· Last posted:"," ",bt(F,{hideTime:!0})]})]})]}),h&&e("div",{class:"account-block-stats",children:[e("div",{class:"short-desc",dangerouslySetInnerHTML:{__html:Vt(H,{emojis:f})}}),L&&e(V,{children:e("span",{class:"tag",children:[e(x,{icon:"bot"})," Automated"]})}),!!U&&e(V,{children:e("span",{class:"tag",children:[e(x,{icon:"group"})," Group"]})}),!!q&&e("span",{class:"verified-field ib",children:[e(x,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:Vt(q.value,{emojis:f})}})]})]})]})]})}const ct=Dn((t,n)=>{let a;try{a=ia()}catch{}let r=(location.hash||"").replace(/^#/,"").trim();r===""&&(r="/");const{to:o,...s}=t,c=decodeURIComponent(r)===o;return e("a",{ref:n,href:`#${o}`,...s,class:`${t.class||""} ${c?"is-active":""}`,onClick:g=>{var h;a&&(T.prevLocation=a),(h=t.onClick)==null||h.call(t,g)}})}),qa={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2"},Mt={};function Vn(t){try{const{version:n,domain:a}=zn(),r=`${a}-${t}`;if(Mt[r])return Mt[r];const o=qa[t];return o?Mt[r]=ra.satisfies(n,o,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}function Ot({subMenu:t=!1,confirm:n=!0,confirmLabel:a,menuItemClassName:r,menuFooter:o,...s}){const{children:c,onClick:g,...h}=s;if(!n)return t?e(fe,{...s}):g?sa(c,{onClick:g}):c;const m=t?ca:Bt,u=Y();return e(m,{instanceRef:u,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...h,menuButton:t?void 0:c,label:t?c:void 0,itemProps:{onPointerMove:l=>{var d,b;l.pointerType==="touch"&&((b=(d=u.current)==null?void 0:d.openMenu)==null||b.call(d))},onPointerLeave:l=>{var d,b;l.pointerType==="touch"&&((b=(d=u.current)==null?void 0:d.openMenu)==null||b.call(d))}},children:[e(fe,{className:r,onClick:g,children:a}),o]})}function We({abrupt:t,hidden:n,...a}){return e("div",{...a,class:`loader-container ${t?"abrupt":""} ${n?"hidden":""}`,children:e("div",{class:"loader"})})}const Wa=document.getElementById("modal-container");function it({children:t,onClick:n,class:a}){if(!t)return null;const r=Y();ie(()=>{let s=setTimeout(()=>{var g;const c=(g=r.current)==null?void 0:g.querySelector('[tabindex="-1"]');c&&c.focus()},100);return()=>clearTimeout(s)},[]);const o=e("div",{ref:r,className:a,onClick:n,children:t});return la(o,Wa)}const Ga=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],Ja=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function Ya(...t){try{return ua(...t)}catch{return t[2]||!1}}const yt=rt(Ya,{cacheKey:t=>t.join()});function Un(t=!1){if(t){const{contentTranslationTargetLanguage:n}=T.settings;if(n)return n}return yt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Ja.map(n=>n.code.replace("_","-")),"en")}function zt(t){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t)}catch{return null}}const Za=$n({limit:1,interval:2e3});function Hn(t,n,a){return fetch(`https://lingva.garudalinux.org/api/v1/${n}/${a}/${encodeURIComponent(t)}`).then(r=>r.json()).then(r=>{var o;return{provider:"lingva",content:r.translation,detectedSourceLanguage:(o=r.info)==null?void 0:o.detectedSource,info:r.info}})}const Xa=Za(Hn);function Qa({forceTranslate:t,sourceLanguage:n,onTranslate:a,text:r="",mini:o}){const s=Un(!0),[c,g]=N("default"),[h,m]=N(null),[u,l]=N(null),[d,b]=N(null),y=Y(),v=n?zt(n):null,f=zt(s),w=Y("auto");a||(a=o?Xa:Hn);const E=async()=>{var F,L;g("loading");try{const{content:I,detectedSourceLanguage:H,provider:U,...Z}=await a(r,w.current,s);if(I){if(H){const J=zt(H);b(J)}if(U==="lingva"){const J=(L=(F=Z==null?void 0:Z.info)==null?void 0:F.pronunciation)==null?void 0:L.query;J&&m(J)}l(I),g("default"),!o&&I.trim()!==r.trim()&&(y.current.open=!0,y.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else g("error")}catch{g("error")}};return ie(()=>{t&&E()},[t]),o?u&&u.trim()!==r.trim()&&d!==f?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(x,{icon:"translate",alt:`Auto-translated from ${v}`}),e("output",{lang:s,dir:"auto",title:h||"",children:u})]})})}):null:e("div",{class:"status-translation-block",onClick:F=>{F.preventDefault()},children:e("details",{ref:y,children:[e("summary",{children:e("button",{type:"button",onClick:async F=>{F.preventDefault(),F.stopPropagation(),y.current.open=!y.current.open,c!=="loading"&&(u||E())},children:[e(x,{icon:"translate"})," ",e("span",{children:c==="loading"?"Translating…":n&&v&&!d?`Translate from ${v}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:c==="loading",onChange:F=>{w.current=F.target.value,E()},children:Ga.map(F=>e("option",{value:F.code,children:F.code==="auto"?`Auto (${d??"…"})`:F.name}))})," ",e("span",{children:["→ ",f]}),e(We,{abrupt:!0,hidden:c!=="loading"})]}),c==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!u&&e(V,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:u}),!!h&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:F=>{F.target.classList.toggle("expand")},children:h})]})]})]})})}const Ut=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["kmr","Kurmanji (Kurdish)","Kurmancî"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],eo="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",to="gi",bn={source:eo,flags:to},ze=da("drafts-db","drafts-store"),no={set:(t,n)=>ha(t,n,ze),get:t=>ma(t,ze),getMany:t=>pa(t,ze),del:t=>ga(t,ze),delMany:t=>fa(t,ze),clear:()=>va(ze),keys:()=>ba(ze)},yn={drafts:no};function ao(t){const n=new URL("/compose/",window.location),{width:a,height:r}=window.screen,o=Math.max(0,(a-600)/2),s=Math.max(0,(r-450)/2),c=Math.min(a,600),g=Math.min(r,450),h=t.uid||Math.random(),m=window.open(n,"compose"+h,`width=${c},height=${g},left=${o},top=${s}`);return m&&(m.__COMPOSE__=t),m}function oo(t,n,a,r){const o=Y(t);ie(()=>{o.current=t},[t,a]),ie(()=>{!r||n===null||n===!1||o.current()},[r]),ie(()=>{if(n===null||n===!1)return;const c=setInterval(()=>o.current(),n);return()=>clearInterval(c)},[n])}const Ke={public:"earth",unlisted:"group",private:"lock",direct:"message"};function tt({account:t,instance:n,showAvatar:a,showAcct:r,short:o,external:s,onClick:c}){const{acct:g,avatar:h,avatarStatic:m,id:u,url:l,displayName:d,emojis:b,bot:y}=t;let{username:v}=t;const[f,w,E]=g.match(/([^@]+)(@.+)/i)||[,g],F=v.toLowerCase().trim(),L=(d||"").toLowerCase().trim(),I=L.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,"").replace(/[^a-z0-9]/gi,"");return!o&&(F===L||F===I)&&(v=null),e("a",{class:`name-text ${r?"show-acct":""} ${o?"short":""}`,href:l,target:s?"_blank":null,title:`${d?`${d} `:""}@${g}`,onClick:H=>{if(!s){if(H.preventDefault(),c)return c(H);T.showAccount={account:t,instance:n}}},children:[a&&e(V,{children:[e(Re,{url:m||h,squircle:y})," "]}),d&&!o?e(V,{children:[e("b",{children:e(ot,{text:d,emojis:b})}),!r&&v&&e(V,{children:[" ",e("i",{children:["@",v]})]})]}):o?e("i",{children:["@",v]}):e("b",{children:["@",v]}),r&&e(V,{children:[e("br",{}),e("i",{children:["@",w,e("span",{class:"ib",children:E})]})]})]})}at.extend(ya);at.extend(ka);at.extend(_a);const io=new Intl.DateTimeFormat;function kt({datetime:t,format:n}){if(!t)return null;const a=at(t),[r,o]=N("");return ie(()=>{let s,c;const g=()=>{c=requestAnimationFrame(()=>{let h;if(n==="micro"){const m=at();m.diff(a,"day")<=1||m.year()===a.year()?h=a.twitter():h=io.format(a.toDate())}else h=a.fromNow();o(h),s=setTimeout(g,3e4)})};return c=requestAnimationFrame(g),()=>{clearTimeout(s),cancelAnimationFrame(c)}},[a]),e("time",{datetime:a.toISOString(),title:a.format("LLLL"),children:r})}function ro({poll:t,lang:n,readOnly:a,refresh:r=()=>{},votePoll:o=()=>{}}){const[s,c]=N("default"),{expired:g,expiresAt:h,id:m,multiple:u,options:l,ownVotes:d,voted:b,votersCount:y,votesCount:v,emojis:f}=t,w=!!h&&new Date(h),E=y||v;let F=0;E<=1e3?F=0:E<=1e4?F=1:E<=1e5&&(F=2);const[L,I]=N(!1),H=l.every(U=>U.votesCount!==null);return e("div",{lang:n,dir:"auto",class:`poll ${a?"read-only":""} ${s==="loading"?"loading":""}`,children:[L&&H||b||g?e(V,{children:[e("div",{class:"poll-options",children:l.map((U,Z)=>{const{title:J,votesCount:W}=U,q=E?(W/E*100).toFixed(F):0,K=W>0&&W===Math.max(...l.map(re=>re.votesCount));return e("div",{class:`poll-option poll-result ${K?"poll-option-leading":""}`,style:{"--percentage":`${q}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(ot,{text:J,emojis:f})}),b&&d.includes(Z)&&e(V,{children:[" ",e(x,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${W} vote${W===1?"":"s"}`,children:[q,"%"]})]},`${Z}-${J}-${W}`)})}),!g&&!b&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:U=>{U.preventDefault(),I(!1)},children:[e(x,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async U=>{U.preventDefault();const Z=U.target,J=new FormData(Z),W=[];J.forEach((q,K)=>{K==="poll"&&W.push(q)}),W.length&&(c("loading"),await o(W),c("default"))},children:[e("div",{class:"poll-options",children:l.map((U,Z)=>{const{title:J}=U;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:u?"checkbox":"radio",name:"poll",value:Z,disabled:s==="loading",readOnly:a}),e("span",{class:"poll-option-title",children:e(ot,{text:J,emojis:f})})]})})})}),!a&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!g&&!a&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:U=>{U.preventDefault(),c("loading"),(async()=>(await r(),c("default")))()},children:e(x,{icon:"refresh",alt:"Refresh"})}),!b&&!g&&!a&&H&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:U=>{U.preventDefault(),I(!L)},children:[e(x,{icon:L?"eye-open":"eye-close",alt:L?"Hide results":"Show results"})," "]}),!g&&!a&&" ",e("span",{title:v,children:qe(v)})," vote",v===1?"":"s",!!y&&y!==v&&e(V,{children:[" ","• ",e("span",{title:y,children:qe(y)})," ","voter",y===1?"":"s"]})," ","• ",g?"Ended":"Ending"," ",!!w&&e(kt,{datetime:w})]})," "]})}const kn=document.createElement("div");function _n(t){return t?(kn.innerHTML=t,kn.innerText.length):0}function Kn(t){const{pathname:n}=new URL(t);return/^\/.*\/\d+$/i.test(n)||/^\/@[^/]+\/statuses\/\w+$/i.test(n)||/^\/notes\/[a-z0-9]+$/i.test(n)||/^\/(notice|objects)\/[a-z0-9-]+$/i.test(n)}const so=document.documentElement,mt=getComputedStyle(so),co=8;function lo(t=[]){const n=mt.getPropertyValue("--sai-top"),a=mt.getPropertyValue("--sai-right"),r=mt.getPropertyValue("--sai-bottom"),o=mt.getPropertyValue("--sai-left");return[n,a,r,o].map((c,g)=>(parseInt(c,10)||co)+(t[g]||0)).join(" ")}const uo=rt(lo,{maxAge:1e4});function ho(t){const{spoilerText:n,content:a,poll:r,mediaAttachments:o}=t;let s="";return n!=null&&n.trim()?s+=n:s+=jn(a),s=s.trim(),r&&(s+=" 📊"),o!=null&&o.length&&(s+=" "+o.map(c=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[c.type]||"").join("")),s}const mo=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function po({media:t,to:n,showOriginal:a,autoAnimate:r,onClick:o=()=>{}}){const{blurhash:s,description:c,meta:g,previewRemoteUrl:h,previewUrl:m,remoteUrl:u,url:l,type:d}=t,{original:b={},small:y,focus:v}=g||{},f=a?b==null?void 0:b.width:y==null?void 0:y.width,w=a?b==null?void 0:b.height:y==null?void 0:y.height,E=a?l:m||l,F=a?u:h||u,L=f>=w?"landscape":"portrait",I=s?wa(s):null,H=Y();let U;if(v){const j=(v.x+1)/2*100,O=(1-v.y)/2*100;U=`${j.toFixed(0)}% ${O.toFixed(0)}%`}const Z=Y(),J=Pn(({x:j,y:O,scale:Q})=>{const{current:ne}=Z;if(ne){const he=xa({x:j,y:O,scale:Q});Q===1?ne.style.removeProperty("transform"):ne.style.setProperty("transform",he),ne.closest(".media-zoom").style.touchAction=Q<=1.01?"pan-x":""}},[]),[W,q]=N(!1),K={enabled:W,draggableUnZoomed:!1,inertiaFriction:.9,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:J},re=He(()=>n?j=>e(ct,{to:n,...j}):"div",[n]),ve=d==="image"||d==="unknown"&&m,se=Y(),[R,te]=N(!1);Nt(()=>{if(!ve||!a||!se.current)return;const{offsetWidth:j,offsetHeight:O}=se.current,Q=f<j&&w<O;Q&&te(Q)},[f,w]);const X=window.innerHeight*(L==="portrait"?.45:.33),ye=L==="portrait"?0:160,M={"--width":`${f}px`,"--height":`${w}px`,"--aspectWidth":`${f/w*Math.max(ye,X)}px`,aspectRatio:`${f} / ${w}`};if(ve)return K.containerProps.style.display="inherit",Nt(()=>{mo&&a&&(async()=>{try{await fetch(E,{mode:"no-cors"}),Z.current.src=E}catch{}})()},[E]),e(re,{ref:se,class:"media media-image",onClick:o,"data-orientation":L,style:a?{backgroundImage:`url(${m})`,backgroundSize:R?`${f}px ${w}px`:void 0}:M,children:a?e(un,{...K,children:e("img",{ref:Z,src:E,alt:c,width:f,height:w,"data-orientation":L,loading:"eager",decoding:"sync",onLoad:j=>{j.target.closest(".media-image").style.backgroundImage="",j.target.closest(".media-zoom").style.display="",q(!0)},onError:j=>{const{src:O}=j.target;O===E&&(j.target.src=F)}})}):e("img",{src:E,alt:c,width:f,height:w,"data-orientation":L,loading:"lazy",style:{backgroundColor:I&&`rgb(${I.join(",")})`,backgroundPosition:U||"center","--anim-duration":`${Math.min(Math.max(Math.max(f,w)/100,5),120)}s`},onLoad:j=>{j.target.closest(".media-image").style.backgroundImage="",j.target.dataset.loaded=!0},onError:j=>{const{src:O}=j.target;O===E&&(j.target.src=F)}})});if(d==="gifv"||d==="video"){const j=b.duration<31,O=d==="gifv"&&j,Q=b.duration<61,ne=En(b.duration),he=!a&&!r&&O,ae=!a&&r&&O,ce=`
    <video
      src="${l}"
      poster="${m}"
      width="${f}"
      height="${w}"
      data-orientation="${L}"
      preload="auto"
      autoplay
      muted="${O}"
      ${O?"":"controls"}
      playsinline
      loop="${Q}"
      ${O?'ondblclick="this.paused ? this.play() : this.pause()"':""}
    ></video>
  `;return e(re,{class:`media media-${O?"gif":"video"} ${ae?"media-contain":""}`,"data-orientation":L,"data-formatted-duration":ne,"data-label":O&&!a&&!ae?"GIF":"",style:!a&&M,onClick:ue=>{if(he)try{H.current.pause()}catch{}o(ue)},onMouseEnter:()=>{if(he)try{H.current.play()}catch{}},onMouseLeave:()=>{if(he)try{H.current.pause()}catch{}},children:a||ae?O&&a?e(un,{...K,enabled:!0,children:e("div",{ref:Z,dangerouslySetInnerHTML:{__html:ce}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:ce}}):O?e("video",{ref:H,src:l,poster:m,width:f,height:w,"data-orientation":L,preload:"auto",playsinline:!0,loop:!0,muted:!0}):e(V,{children:[e("img",{src:m,alt:c,width:f,height:w,"data-orientation":L,loading:"lazy"}),e("div",{class:"media-play",children:e(x,{icon:"play",size:"xl"})})]})})}else if(d==="audio"){const j=En(b.duration);return e(re,{class:"media media-audio","data-formatted-duration":j,onClick:o,style:!a&&M,children:[a?e("audio",{src:u||l,preload:"none",controls:!0,autoplay:!0}):m?e("img",{src:m,alt:c,width:f,height:w,"data-orientation":L,loading:"lazy"}):null,!a&&e("div",{class:"media-play",children:e(x,{icon:"play",size:"xl"})})]})}}function wn(t){return e(Ea,{children:({ref:n,closeMenu:a})=>e(ct,{...t,ref:n,onClick:({detail:r})=>a(r===0?"Enter":void 0)})})}const go=140,fo=$n({limit:1,interval:1e3});function vo(t,n){try{return n.v1.accounts.fetch(t)}catch(a){return Promise.reject(a)}}const bo=rt(vo),nt={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"};function Ge({statusID:t,status:n,instance:a,withinContext:r,size:o="m",skeleton:s,readOnly:c,contentTextWeight:g,enableTranslate:h,forceTranslate:m,previewMode:u,allowFilters:l,onMediaClick:d,quoted:b,onStatusLinkClick:y=()=>{}}){var rn,sn,cn;if(s)return e("div",{class:"status skeleton",children:[e(Re,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"███ ████████"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"████ ████████"})})})]})]});const{masto:v,instance:f,authenticated:w}=$e({instance:a}),{instance:E}=$e(),F=f===E;let L=Pe(t,f);const I=st(T);if(n||(n=I.statuses[L]||I.statuses[t],L=Pe(n==null?void 0:n.id,f)),!n)return null;const{account:{acct:H,avatar:U,avatarStatic:Z,id:J,url:W,displayName:q,username:K,emojis:re,bot:ve,group:se},id:R,repliesCount:te,reblogged:X,reblogsCount:ye,favourited:M,favouritesCount:j,bookmarked:O,poll:Q,muted:ne,sensitive:he,spoilerText:ae,visibility:ce,language:ue,editedAt:we,filtered:wt,card:me,createdAt:Je,inReplyToId:Ye,inReplyToAccountId:ke,content:xe,mentions:_e,mediaAttachments:pe,reblog:Le,uri:xt,url:k,emojis:A,_deleted:C,_pinned:D,_filtered:G}=n,z=p=>{p.shiftKey};if(l&&o!=="l"&&G)return e(Lo,{status:n,filterInfo:G,instance:f,containerProps:{onMouseEnter:z}});const P=new Date(Je),B=new Date(we),ee=He(()=>$.session.get("currentAccount"),[]),de=He(()=>ee&&ee===J,[J,ee]);let Te=_e==null?void 0:_e.find(p=>p.id===ke);!Te&&ke===R&&(Te={url:W,username:K,displayName:q});const[ge,Me]=N(Te);if(!r&&!ge&&ke){const p=T.accounts[ke];p?Me(p):bo(ke,v).then(S=>{Me(S),T.accounts[S.id]=S}).catch(S=>{})}const lt=ke===ee||(_e==null?void 0:_e.find(p=>p.id===ee)),Ee=u||!!I.spoilers[R]||!1;if(Le)return se?e("div",{class:"status-group",onMouseEnter:z,children:[e("div",{class:"status-pre-meta",children:[e(x,{icon:"group",size:"l",alt:"Group"})," ",e(tt,{account:n.account,instance:f,showAvatar:!0})]}),e(Ge,{status:t?null:Le,statusID:t?Le.id:null,instance:f,size:o,contentTextWeight:g})]}):e("div",{class:"status-reblog",onMouseEnter:z,children:[e("div",{class:"status-pre-meta",children:[e(x,{icon:"rocket",size:"l"})," ",e(tt,{account:n.account,instance:f,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(Ge,{status:t?null:Le,statusID:t?Le.id:null,instance:f,size:o,contentTextWeight:g})]});const le=o==="l",[Oe,Gn]=N(m),Ht=Un(!0),Jn=I.settings.contentTranslationHideLanguages||[],{contentTranslation:Et,contentTranslationAutoInline:Kt}=I.settings;Et||(h=!1);const qt=He(()=>{if(!Et||!Kt||c||r&&!le||u||ae||he||Q||me||pe!=null&&pe.length)return!1;const p=_n(xe);return p>0&&p<=go},[Et,Kt,c,r,le,u,ae,he,Q,me,pe,xe]),[Lt,ut]=N(!1),[Yn,Tt]=N(!1),Ne=Y(null);dn({ref:Ne,onResize:()=>{if(Ne.current){const{scrollHeight:p,clientHeight:S}=Ne.current;p<window.innerHeight*.4?Ne.current.classList.remove("truncated"):Ne.current.classList.toggle("truncated",p>S)}}});const je=Y(null);dn({ref:je,onResize:()=>{if(je.current){const{scrollHeight:p,clientHeight:S}=je.current;p<window.innerHeight*.4?je.current.classList.remove("truncated"):je.current.classList.toggle("truncated",p>S)}}});const Wt="Read more →",dt=Y(null),Ze="Sorry, your current logged-in instance can't interact with this post from another instance.",Gt=Pn(()=>Math.max(Math.round((ae.length+_n(xe))/140)||1,1),[ae,xe]),Jt=bt(P),Yt=we&&bt(B);let ht=w&&ce!=="direct"&&ce!=="private";ce==="private"&&de&&(ht=!0);const Zt=()=>{if(!F||!w)return alert(Ze);T.showCompose={replyToStatus:n}},Ft=He(()=>pe.some(p=>{var S,oe;return!((oe=(S=p.description)==null?void 0:S.trim)!=null&&oe.call(S))}),[pe]),jo=async()=>{if(!F||!w)return alert(Ze),!1;try{if(!X){let p="Boost this post?";if(Ft&&(p+=`

⚠️ Some media have no descriptions.`),!confirm(p))return!1}if(T.statuses[L]={...n,reblogged:!X,reblogsCount:ye+(X?-1:1)},X){const p=await v.v1.statuses.unreblog(R);return be(p,f),!0}else{const p=await v.v1.statuses.reblog(R);return be(p,f),!0}}catch{return T.statuses[L]=n,!1}},Xt=async()=>{if(!F||!w)return alert(Ze),!1;try{if(T.statuses[L]={...n,reblogged:!X,reblogsCount:ye+(X?-1:1)},X){const p=await v.v1.statuses.unreblog(R);return be(p,f),!0}else{const p=await v.v1.statuses.reblog(R);return be(p,f),!0}}catch{return T.statuses[L]=n,!1}},Qt=async()=>{if(!F||!w)return alert(Ze);try{if(T.statuses[L]={...n,favourited:!M,favouritesCount:j+(M?-1:1)},M){const p=await v.v1.statuses.unfavourite(R);be(p,f)}else{const p=await v.v1.statuses.favourite(R);be(p,f)}}catch{T.statuses[L]=n}},en=async()=>{if(!F||!w)return alert(Ze);try{if(T.statuses[L]={...n,bookmarked:!O},O){const p=await v.v1.statuses.unbookmark(R);be(p,f)}else{const p=await v.v1.statuses.bookmark(R);be(p,f)}}catch{T.statuses[L]=n}},tn=ue&&ue!==Ht&&!yt([ue],[Ht])&&!Jn.find(p=>ue===p||yt([ue],[p])),nn=Y(),At=e(V,{children:[!le&&e(V,{children:[e(La,{children:[e("span",{class:"ib",children:[e(x,{icon:Ke[ce],size:"s"})," ",e("span",{children:nt[ce]})]})," ",e("span",{class:"ib",children:[te>0&&e("span",{children:[e(x,{icon:"reply",alt:"Replies",size:"s"})," ",e("span",{children:qe(te)})]})," ",ye>0&&e("span",{children:[e(x,{icon:"rocket",alt:"Boosts",size:"s"})," ",e("span",{children:qe(ye)})]})," ",j>0&&e("span",{children:[e(x,{icon:"heart",alt:"Favourites",size:"s"})," ",e("span",{children:qe(j)})]})]}),e("br",{}),Jt]}),e(wn,{to:f?`/${f}/s/${R}`:`/s/${R}`,onClick:y,children:[e(x,{icon:"arrow-right"}),e("span",{children:["View post by @",K||H]})]})]}),!!we&&e(fe,{onClick:()=>{ut(R)},children:[e(x,{icon:"history"}),e("span",{children:["Show Edit History",e("br",{}),e("small",{class:"more-insignificant",children:["Edited: ",Yt]})]})]}),(!le||!!we)&&e(It,{}),le&&e(fe,{onClick:()=>Tt(!0),children:[e(x,{icon:"react"}),e("span",{children:["Boosted/Favourited by",e("span",{class:"more-insignificant",children:"…"})]})]}),!le&&F&&e(V,{children:[e("div",{class:"menu-horizontal",children:[e(Ot,{subMenu:!0,confirmLabel:e(V,{children:[e(x,{icon:"rocket"}),e("span",{children:X?"Unboost?":"Boost to everyone?"})]}),menuFooter:Ft&&!X&&e("div",{class:"footer",children:[e(x,{icon:"alert"}),"Some media have no descriptions."]}),disabled:!ht,onClick:async()=>{try{const p=await Xt();!le&&p&&Ae(X?"Unboosted":"Boosted")}catch{}},children:[e(x,{icon:"rocket",style:{color:X&&"var(--reblog-color)"}}),e("span",{children:X?"Unboost":"Boost…"})]}),e(fe,{onClick:()=>{try{Qt(),le||Ae(M?"Unfavourited":"Favourited")}catch{}},children:[e(x,{icon:"heart",style:{color:M&&"var(--favourite-color)"}}),e("span",{children:M?"Unfavourite":"Favourite"})]})]}),e("div",{class:"menu-horizontal",children:[e(fe,{onClick:Zt,children:[e(x,{icon:"reply"}),e("span",{children:"Reply"})]}),e(fe,{onClick:()=>{try{en(),le||Ae(O?"Unbookmarked":"Bookmarked")}catch{}},children:[e(x,{icon:"bookmark",style:{color:O&&"var(--link-color)"}}),e("span",{children:O?"Unbookmark":"Bookmark"})]})]})]}),h?e(fe,{disabled:Oe,onClick:()=>{Gn(!0)},children:[e(x,{icon:"translate"}),e("span",{children:"Translate"})]}):(!ue||tn)&&e(wn,{to:`${f?`/${f}`:""}/s/${R}?translate=1`,children:[e(x,{icon:"translate"}),e("span",{children:"Translate"})]}),(!le&&F||h)&&e(It,{}),e(fe,{href:k,target:"_blank",children:[e(x,{icon:"external"}),e("small",{class:"menu-double-lines",children:Eo(k)})]}),e("div",{class:"menu-horizontal",children:[e(fe,{onClick:()=>{try{navigator.clipboard.writeText(k),Ae("Link copied")}catch{Ae("Unable to copy link")}},children:[e(x,{icon:"link"}),e("span",{children:"Copy"})]}),(navigator==null?void 0:navigator.share)&&((rn=navigator==null?void 0:navigator.canShare)==null?void 0:rn.call(navigator,{url:k}))&&e(fe,{onClick:()=>{try{navigator.share({url:k})}catch{alert("Sharing doesn't seem to work.")}},children:[e(x,{icon:"share"}),e("span",{children:"Share…"})]})]}),(de||lt)&&e(It,{}),(de||lt)&&e(fe,{onClick:async()=>{try{const p=await v.v1.statuses[ne?"unmute":"mute"](R);be(p,f),Ae(ne?"Conversation unmuted":"Conversation muted")}catch{Ae(ne?"Unable to unmute conversation":"Unable to mute conversation")}},children:ne?e(V,{children:[e(x,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e(V,{children:[e(x,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),de&&e("div",{class:"menu-horizontal",children:[e(fe,{onClick:()=>{T.showCompose={editStatus:n}},children:[e(x,{icon:"pencil"}),e("span",{children:"Edit"})]}),le&&e(Ot,{subMenu:!0,confirmLabel:e(V,{children:[e(x,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await v.v1.statuses.remove(R);const p=Bn(R,f);p._deleted=!0,Ae("Deleted")}catch{Ae("Unable to delete")}})()},children:[e(x,{icon:"trash"}),e("span",{children:"Delete…"})]})]})]}),an=Y(),[Zn,Ct]=N(!1),[Xn,on]=N({x:0,y:0}),Qn=Rn(p=>{var ln;const{clientX:S,clientY:oe}=((ln=p.touches)==null?void 0:ln[0])||p,Fe=p.target.closest("a");Fe&&/^https?:\/\//.test(Fe.getAttribute("href"))||(p.preventDefault(),on({x:S,y:oe}),Ct(!0))},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:4}),St=o!=="l"&&!u&&!C&&!b;return e("article",{ref:dt,tabindex:"-1",class:`status ${!r&&ge?"status-reply-to":""} visibility-${ce} ${D?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[o]} ${C?"status-deleted":""} ${b?"status-card":""}`,onMouseEnter:z,onContextMenu:p=>{if(!St||p.metaKey)return;const S=p.target.closest("a");S&&/^https?:\/\//.test(S.getAttribute("href"))||(p.preventDefault(),on({x:p.clientX,y:p.clientY}),Ct(!0))},...St?Qn():{},children:[St&&e(Ta,{ref:an,state:Zn?"open":void 0,anchorPoint:Xn,direction:"right",onClose:p=>{var S,oe,Fe;Ct(!1),(p==null?void 0:p.reason)==="click"&&((Fe=(oe=(S=dt.current)==null?void 0:S.closest("[tabindex]"))==null?void 0:oe.focus)==null||Fe.call(oe))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var p,S;(S=(p=an.current)==null?void 0:p.closeMenu)==null||S.call(p)}},overflow:"auto",boundingBoxPadding:uo(),unmountOnClose:!0,children:At}),o!=="l"&&e("div",{class:"status-badge",children:[X&&e(x,{class:"reblog",icon:"rocket",size:"s"}),M&&e(x,{class:"favourite",icon:"heart",size:"s"}),O&&e(x,{class:"bookmark",icon:"bookmark",size:"s"}),D&&e(x,{class:"pin",icon:"pin",size:"s"})]}),o!=="s"&&e("a",{href:W,tabindex:"-1",title:`@${H}`,onClick:p=>{p.preventDefault(),p.stopPropagation(),T.showAccount={account:n.account,instance:f}},children:e(Re,{url:Z||U,size:"xxl",squircle:ve})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e(tt,{account:n.account,instance:f,showAvatar:o==="s",showAcct:le})," ",o!=="l"&&(C?e("span",{class:"status-deleted-tag",children:"Deleted"}):k&&!u&&!b?e(Bt,{instanceRef:nn,portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:p=>{var S,oe;p.target===p.currentTarget&&((oe=(S=nn.current)==null?void 0:S.closeMenu)==null||oe.call(S))}},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",unmountOnClose:!0,menuButton:({open:p})=>e(ct,{to:f?`/${f}/s/${R}`:`/s/${R}`,onClick:S=>{S.preventDefault(),S.stopPropagation(),y==null||y()},class:`time ${p?"is-open":""}`,children:[e(x,{icon:Ke[ce],alt:nt[ce],size:"s"})," ",e(kt,{datetime:P,format:"micro"})]}),children:At}):e("span",{class:"time",children:[e(x,{icon:Ke[ce],alt:nt[ce],size:"s"})," ",e(kt,{datetime:P,format:"micro"})]}))]}),ce==="direct"&&e(V,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!r&&e(V,{children:ke===((sn=n.account)==null?void 0:sn.id)||I.statusThreadNumber[L]?e("div",{class:"status-thread-badge",children:[e(x,{icon:"thread",size:"s"}),"Thread",I.statusThreadNumber[L]?` ${I.statusThreadNumber[L]}/X`:""]}):!!Ye&&!!ge&&(!!ae||!_e.find(p=>p.id===ke))&&e("div",{class:"status-reply-badge",children:[e(x,{icon:"reply"})," ",e(tt,{account:ge,instance:f,short:!0})]})}),e("div",{class:`content-container ${ae||he?"has-spoiler":""} ${Ee?"show-spoiler":""}`,"data-content-text-weight":g?Gt():null,style:(le||g)&&{"--content-text-weight":Gt()},children:[!!ae&&e(V,{children:[e("div",{class:"content spoiler-content",lang:ue,dir:"auto",ref:Ne,"data-read-more":Wt,children:e("p",{children:e(ot,{text:ae,emojis:A})})}),e("button",{class:`light spoiler ${Ee?"spoiling":""}`,type:"button",onClick:p=>{p.preventDefault(),p.stopPropagation(),Ee?delete T.spoilers[R]:T.spoilers[R]=!0},children:[e(x,{icon:Ee?"eye-open":"eye-close"})," ",Ee?"Show less":"Show more"]})]}),e("div",{class:"content",ref:je,"data-read-more":Wt,children:[e("div",{lang:ue,dir:"auto",class:"inner-content",onClick:Na({mentions:_e,instance:f,previewMode:u}),dangerouslySetInnerHTML:{__html:Vt(xe,{emojis:A,postEnhanceDOM:p=>{p.querySelectorAll('a.u-url[target="_blank"]').forEach(S=>{/http/i.test(S.innerText.trim())||S.removeAttribute("target")}),!u&&Array.from(p.querySelectorAll("a[href]:not(.u-url):not(.mention):not(.hashtag)")).filter(S=>{const oe=S.href;return!(oe===n.url||oe===n.uri)&&Kn(oe)}).forEach((S,oe)=>{qn(E,S.href).then(Fe=>{Fe&&(S.removeAttribute("target"),L&&(Array.isArray(T.statusQuotes[L])||(T.statusQuotes[L]=[]),T.statusQuotes[L][oe]||T.statusQuotes[L].splice(oe,0,Fe)))})})}})}}),e(To,{id:R,instance:f,level:b})]}),!!Q&&e(ro,{lang:ue,poll:Q,readOnly:c||!F||!w,onUpdate:p=>{T.statuses[L].poll=p},refresh:()=>v.v1.polls.fetch(Q.id).then(p=>{T.statuses[L].poll=p}).catch(p=>{}),votePoll:p=>v.v1.polls.vote(Q.id,{choices:p}).then(S=>{T.statuses[L].poll=S}).catch(S=>{})}),((h||qt)&&!!xe.trim()&&tn||Oe)&&e(Qa,{forceTranslate:Oe||qt,mini:!le&&!r,sourceLanguage:ue,text:(ae?`${ae}

`:"")+jn(xe)+((cn=Q==null?void 0:Q.options)!=null&&cn.length?`

Poll:
${Q.options.map(p=>`- ${p.title}${p.votesCount>=0?` (${p.votesCount})`:""}`).join(`
`)}`:"")}),!ae&&he&&!!pe.length&&e("button",{class:`plain spoiler ${Ee?"spoiling":""}`,type:"button",onClick:p=>{p.preventDefault(),p.stopPropagation(),Ee?delete T.spoilers[R]:T.spoilers[R]=!0},children:[e(x,{icon:Ee?"eye-open":"eye-close"})," Sensitive content"]}),!!pe.length&&e("div",{class:`media-container media-eq${pe.length} ${pe.length>2?"media-gt2":""} ${pe.length>4?"media-gt4":""}`,children:pe.slice(0,le?void 0:4).map((p,S)=>e(po,{media:p,autoAnimate:le,to:`/${f}/s/${R}?${r?"media":"media-only"}=${S+1}`,onClick:d?oe=>{d(oe,S,p,n)}:void 0},p.id))}),!!me&&(me==null?void 0:me.url)!==n.url&&(me==null?void 0:me.url)!==n.uri&&/^https/i.test(me==null?void 0:me.url)&&!he&&!ae&&!Q&&!pe.length&&!I.statusQuotes[L]&&e(yo,{card:me,instance:E})]}),le&&e(V,{children:[e("div",{class:"extra-meta",children:C?e("span",{class:"status-deleted-tag",children:"Deleted"}):e(V,{children:[e(x,{icon:Ke[ce],alt:nt[ce]})," ",e("a",{href:k,target:"_blank",children:e("time",{class:"created",datetime:P.toISOString(),children:Jt})}),we&&e(V,{children:[" ","• ",e(x,{icon:"pencil",alt:"Edited"})," ",e("time",{class:"edited",datetime:B.toISOString(),onClick:()=>{ut(R)},children:Yt})]})]})}),e("div",{class:`actions ${C?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(pt,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:te,onClick:Zt})}),e(Ot,{disabled:!ht,onClick:Xt,confirmLabel:e(V,{children:[e(x,{icon:"rocket"}),e("span",{children:X?"Unboost?":"Boost to everyone?"})]}),menuFooter:Ft&&!X&&e("div",{class:"footer",children:[e(x,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(pt,{checked:X,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:ye,disabled:!ht})})}),e("div",{class:"action has-count",children:e(pt,{checked:M,title:["Favourite","Unfavourite"],alt:["Favourite","Favourited"],class:"favourite-button",icon:"heart",count:j,onClick:Qt})}),e("div",{class:"action",children:e(pt,{checked:O,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:en})}),e(Bt,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(x,{icon:"more",size:"l",alt:"More"})})}),children:At})]})]})]}),!!Lt&&e(it,{onClick:p=>{var S;p.target===p.currentTarget&&(ut(!1),(S=dt.current)==null||S.focus())},children:e(ko,{statusID:Lt,instance:f,fetchStatusHistory:()=>v.v1.statuses.listHistory(Lt),onClose:()=>{var p;ut(!1),(p=dt.current)==null||p.focus()}})}),Yn&&e(it,{class:"light",onClick:p=>{p.target===p.currentTarget&&Tt(!1)},children:e(_o,{statusID:R,instance:f,onClose:()=>Tt(!1)})})]})}function yo({card:t,instance:n}){var L;const a=st(T),{blurhash:r,title:o,description:s,html:c,providerName:g,authorName:h,width:m,height:u,image:l,url:d,type:b,embedUrl:y}=t,v=o||g||h,w=m/u>=1.2?"large":"",[E,F]=N(null);if(ie(()=>{v&&l&&Kn(d)&&qn(n,d).then(I=>{if(!I)return;const{id:H,url:U}=I;F("#"+U)})},[v,l]),a.unfurledLinks[d])return null;if(v&&(l||b==="photo"&&r)){const I=new URL(d).hostname.replace(/^www\./,"");let H;if(!l){const J=Fa(r,44,44),W=document.createElement("canvas");W.width=44,W.height=44;const q=W.getContext("2d"),K=q.createImageData(44,44);K.data.set(J),q.putImageData(K,0,0),H=W.toDataURL()}return e("a",{href:E||d,target:E?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${H?"":w}`,children:[e("div",{class:"card-image",children:e("img",{src:l||H,width:m,height:u,loading:"lazy",alt:"",onError:U=>{try{U.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:I}),e("p",{class:"title",children:o}),e("p",{class:"meta",children:s||g||h})]})]})}else{if(b==="photo")return e("a",{href:d,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",children:e("img",{src:y,width:m,height:u,alt:o||s,loading:"lazy",style:{height:"auto",aspectRatio:`${m}/${u}`}})});if(b==="video"){if(/youtube/i.test(g)){const I=(L=d.match(/watch\?v=([^&]+)/))==null?void 0:L[1];if(I)return e("lite-youtube",{videoid:I,nocookie:!0})}return e("div",{class:"card video",style:{aspectRatio:`${m}/${u}`},dangerouslySetInnerHTML:{__html:c}})}else if(v&&!l){const I=new URL(d).hostname.replace(/^www\./,"");return e("a",{href:E||d,target:E?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e(x,{icon:"link",size:"s"})," ",e("span",{children:I})]}),e("p",{class:"title",children:o}),e("p",{class:"meta",children:s||g||h})]})})}}}function ko({statusID:t,instance:n,fetchStatusHistory:a=()=>{},onClose:r}){const[o,s]=N("default"),[c,g]=N([]);return ie(()=>{s("loading"),(async()=>{try{const h=await a();g(h),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!r&&e("button",{type:"button",class:"sheet-close",onClick:r,children:e(x,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),o==="error"&&e("p",{children:"Failed to load history"}),o==="loading"&&e("p",{children:[e(We,{abrupt:!0})," Loading…"]})]}),e("main",{tabIndex:"-1",children:c.length>0&&e("ol",{children:c.map(h=>{const{createdAt:m}=h,u=new Date(m);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:bt(u,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(Ge,{status:h,instance:n,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},m)})})})]})}const xn=80;function _o({statusID:t,instance:n,onClose:a}){const{masto:r}=$e({instance:n}),[o,s]=N("default"),[c,g]=N([]),[h,m]=N(!1),u=Y(),l=Y();async function d(b){m(!1),s("loading"),(async()=>{var y,v,f,w;try{b&&(u.current=r.v1.statuses.listRebloggedBy(t,{limit:xn}),l.current=r.v1.statuses.listFavouritedBy(t,{limit:xn}));const[{value:E},{value:F}]=await Promise.allSettled([u.current.next(),l.current.next()]);if((y=E.value)!=null&&y.length||(v=F.value)!=null&&v.length){if((f=E.value)!=null&&f.length)for(const L of E.value){const I=c.find(H=>H.id===L.id);I?I._types.push("reblog"):c.push({...L,_types:["reblog"]})}if((w=F.value)!=null&&w.length)for(const L of F.value){const I=c.find(H=>H.id===L.id);I?I._types.push("favourite"):c.push({...L,_types:["favourite"]})}g(c),m(!E.done||!F.done)}else m(!1);s("default")}catch{s("error")}})()}return ie(()=>{d(!0)},[]),e("div",{id:"reactions-container",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(x,{icon:"x"})}),e("header",{children:e("h2",{children:"Boosted/Favourited by…"})}),e("main",{children:c.length>0?e(V,{children:[e("ul",{class:"reactions-list",children:c.map(b=>{const{_types:y}=b;return e("li",{children:[e("div",{class:"reactions-block",children:y.map(v=>e(x,{icon:{reblog:"rocket",favourite:"heart"}[v],class:`${v}-icon`}))}),e(Ka,{account:b,instance:n})]},b.id+y)})}),o==="default"?h?e(Aa,{onChange:b=>{b&&d()},children:e("button",{type:"button",class:"plain block",onClick:()=>d(),children:"Show more…"})}):e("p",{class:"ui-state insignificant",children:"The end."}):o==="loading"&&e("p",{class:"ui-state",children:e(We,{abrupt:!0})})]}):o==="loading"?e("p",{class:"ui-state",children:e(We,{abrupt:!0})}):o==="error"?e("p",{class:"ui-state",children:"Unable to load accounts"}):e("p",{class:"ui-state insignificant",children:"No one yet."})})]})}function pt({checked:t,count:n,class:a,title:r,alt:o,icon:s,onClick:c,...g}){typeof r=="string"&&(r=[r,r]),typeof o=="string"&&(o=[o,o]);const[h,m]=N(r[0]||""),[u,l]=N(o[0]||"");return ie(()=>{t?(m(r[1]||""),l(o[1]||"")):(m(r[0]||""),l(o[0]||""))},[t,r,o]),e("button",{type:"button",title:h,class:`plain ${a} ${t?"checked":""}`,onClick:d=>{c&&(d.preventDefault(),d.stopPropagation(),c(d))},...g,children:[e(x,{icon:s,size:"l",alt:u}),!!n&&e(V,{children:[" ",e("small",{title:n,children:qe(n)})]})]})}function En(t){if(!t)return;let n=Math.floor(t/3600),a=Math.floor(t%3600/60),r=Math.round(t%60);return n===0?`${a}:${r.toString().padStart(2,"0")}`:`${n}:${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}const wo=/(twitter|github)\.com/i,Ln={};function xo(t,n){var v;const a=Ca(T);if(wo.test(n)||Ln[n])return;if(new RegExp(t+"/").test((v=a.unfurledLinks[n])==null?void 0:v.url))return Promise.resolve(a.unfurledLinks[n]);let o,s=n;/\/\/elk\.[^\/]+\/[^.]+\.[^.]+/i.test(s)&&(s=s.replace(/elk\.[^\/]+\//i,""));const c=new URL(s),g=c.hostname,h=c.pathname,u=/\/@([^@\/]+)@?([^\/]+)?\/(\d+)$/i.exec(h);if(u){const f=u[3],{masto:w}=$e({instance:g});o=w.v1.statuses.fetch(f).then(E=>{if(E!=null&&E.id)return{status:E,instance:g};throw new Error("No results")})}const{masto:l}=$e({instance:t}),d=l.v2.search({q:n,type:"statuses",resolve:!0,limit:1}).then(f=>{if(f.statuses.length>0)return{status:f.statuses[0],instance:t};throw new Error("No results")});function b(f){const{status:w,instance:E}=f,{id:F}=w,L=`/${E}/s/${F}`,I={id:F,instance:E,url:L};return T.unfurledLinks[n]=I,be(w,E,{skipThreading:!0}),I}function y(f){Ln[n]=!0}return o?Promise.any([o,d]).then(b).catch(y):d.then(b).catch(y)}function Eo(t){if(!t)return;const n=new URL(t),{host:a,pathname:r}=n,o=r.replace(/\/$/,""),[s,c,g]=o.match(/\/(@[^\/]+)\/(.*)/)||[];return e(V,{children:[a,c?e(V,{children:["/",c,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",g]})]}):e("span",{class:"more-insignificant",children:o})]})}const qn=fo(rt(xo,{cacheKey:(t,n)=>`${t}:${n}`}));function Lo({status:t,filterInfo:n,instance:a,containerProps:r={}}){const{account:{avatar:o,avatarStatic:s,bot:c,group:g},createdAt:h,visibility:m,reblog:u}=t,l=!!u,d=(n==null?void 0:n.titlesStr)||"",b=new Date(h),y=ho(t.reblog||t),[v,f]=N(!1),w=Rn(()=>{f(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:4});return e("div",{class:l?g?"status-group":"status-reblog":"",...r,title:y,onContextMenu:E=>{E.preventDefault(),f(!0)},...w(),children:[e("article",{class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:d,onClick:E=>{E.preventDefault(),f(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:d})]})," ",e(Re,{url:s||o,squircle:c}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(tt,{account:t.account,instance:a})," ",e(x,{icon:Ke[m],alt:nt[m],size:"s"})," ",l?"boosted":e(kt,{datetime:b,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[l&&e(V,{children:[e(Re,{url:u.account.avatarStatic||u.account.avatar,squircle:c})," "]}),y]})]})]}),!!v&&e(it,{class:"light",onClick:E=>{E.target===E.currentTarget&&f(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>f(!1),children:e(x,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",d]}),e("main",{tabIndex:"-1",children:e(ct,{class:"status-link",to:`/${a}/s/${t.id}`,onClick:()=>{f(!1)},children:[e(Ge,{status:t,instance:a,size:"s",readOnly:!0}),e("button",{type:"button",class:"status-post-link plain3",children:"See post »"})]})})]})})]})}const To=Mn(({id:t,instance:n,level:a=0})=>{if(!t||!n)return;const r=st(T),o=Pe(t,n),s=r.statusQuotes[o],c=s==null?void 0:s.filter((g,h,m)=>m.findIndex(u=>u.url===g.url)===h);if(c!=null&&c.length&&!(a>2))return c.map(g=>e(ct,{to:`${g.instance?`/${g.instance}`:""}/s/${g.id}`,class:"status-card-link",children:e(Ge,{statusID:g.id,instance:g.instance,size:"s",quoted:a+1})},g.instance+g.id))}),Tn=Mn(Ge),Fo=Ut.reduce((t,n)=>{const[a,r,o]=n;return t[a]={common:r,native:o},t},{}),Wn={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},Ao=Object.values(Wn),Fn=24*60*60,An=t=>{if(!t)return Fn;const n=(new Date(t).getTime()-Date.now())/1e3;return Ao.find(a=>a>=n)||Fn},De=document.createElement("ul");De.role="listbox";De.className="text-expander-menu";const Co=16,So=new IntersectionObserver(t=>{t.forEach(n=>{if(n.isIntersecting){const{left:a,width:r}=n.boundingClientRect,{innerWidth:o}=window;a+r>o&&(De.style.left=o-r-Co+"px")}})});So.observe(De);const Ce=yt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Ut.map(t=>t[0]),"en"),Io=new RegExp(bn.source,bn.flags),Do=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,$o="$2xxxxxxxxxxxxxxxxxxxxxxx";function Po(t){return t.replace(Io,$o).replace(Do,"$1@$3")}function Go({onClose:t,replyToStatus:n,editStatus:a,draftStatus:r,standalone:o,hasOpener:s}){var xt;const{masto:c,instance:g}=$e(),[h,m]=N("default"),u=Y((r==null?void 0:r.uid)||Sa()),d=_t().info,{configuration:b}=zn(),{statuses:{maxCharacters:y,maxMediaAttachments:v,charactersReservedPerUrl:f},mediaAttachments:{supportedMimeTypes:w,imageSizeLimit:E,imageMatrixLimit:F,videoSizeLimit:L,videoMatrixLimit:I,videoFrameRateLimit:H},polls:{maxOptions:U,maxCharactersPerOption:Z,maxExpiration:J,minExpiration:W}}=b,q=Y(),K=Y(),[re,ve]=N("public"),[se,R]=N(!1),[te,X]=N($.session.get("currentLanguage")||Ce),ye=Y(te),[M,j]=N([]),[O,Q]=N(null),ne=$.account.get("preferences")||{},he=()=>{q.current&&q.current.dispatchEvent(new Event("input"))},ae=()=>{setTimeout(()=>{var k;(k=q.current)==null||k.focus()},300)};ie(()=>{if(n){const{spoilerText:k,visibility:A,language:C,sensitive:D}=n;k&&K.current&&(K.current.value=k);const z=[...new Set([n.account.acct,...n.mentions.map(P=>P.acct)])].filter(P=>P!==d.acct);z.length>0&&(q.current.value=`${z.map(P=>`@${P}`).join(" ")} `,he()),ae(),ve(A==="public"&&ne["posting:default:visibility"]?ne["posting:default:visibility"]:A),X(C||ne.postingDefaultLanguage||Ce),R(D)}else if(a){const{visibility:k,language:A,sensitive:C,poll:D,mediaAttachments:G}=a,z=!!(D!=null&&D.options)&&{...D,options:D.options.map(P=>(P==null?void 0:P.title)||P),expiresIn:(D==null?void 0:D.expiresIn)||An(D.expiresAt)};m("loading"),(async()=>{try{const P=await c.v1.statuses.fetchSource(a.id),{text:B,spoilerText:ee}=P;q.current.value=B,q.current.dataset.source=B,he(),ae(),K.current.value=ee,ve(k),X(A||presf.postingDefaultLanguage||Ce),R(C),Q(z),j(G),m("default")}catch(P){alert((P==null?void 0:P.reason)||P),m("error")}})()}else ae(),ne["posting:default:visibility"]&&ve(ne["posting:default:visibility"]),ne["posting:default:language"]&&X(ne["posting:default:language"]),ne["posting:default:sensitive"]&&R(ne["posting:default:sensitive"]);if(r){const{status:k,spoilerText:A,visibility:C,language:D,sensitive:G,poll:z,mediaAttachments:P}=r,B=!!(z!=null&&z.options)&&{...z,options:z.options.map(ee=>(ee==null?void 0:ee.title)||ee),expiresIn:(z==null?void 0:z.expiresIn)||An(z.expiresAt)};q.current.value=k,he(),ae(),A&&(K.current.value=A),C&&ve(C),X(D||ne.postingDefaultLanguage||Ce),G!==null&&R(G),B&&Q(B),P&&j(P)}},[r,a,n]);const ce=Y(),ue="You have unsaved changes. Discard this post?",we=()=>{const{value:k,dataset:A}=q.current;if(h==="loading")return!1;const C=M.length>0;if(!k&&!C||M.length>0&&M.every(B=>B.id))return!0;const G=(n==null?void 0:n.account.id)===d.id,z=n&&k.trim()===`@${n.account.acct}`;return!!(!G&&z||k===(A==null?void 0:A.source))},wt=()=>we()?!0:confirm(ue);ie(()=>{const k=A=>{we()||(A.preventDefault(),A.returnValue=ue)};return window.addEventListener("beforeunload",k,{capture:!0}),()=>window.removeEventListener("beforeunload",k,{capture:!0})},[]);const me=()=>{const{value:k}=q.current,{value:A}=K.current;return hn(Po(k))+hn(A)},Je=()=>{const k=me();T.composerCharacterCount=k};ie(Je,[]);const Ye=Y(!1);mn("esc",()=>{Ye.current=!0},{enableOnFormTags:!0}),mn("esc",()=>{!o&&Ye.current&&wt()&&t(),Ye.current=!1},{enableOnFormTags:!0,keyup:!0});const ke=Y({}),xe=()=>`${gt()}#${u.current}`,_e=()=>{if(a)return;const k=xe(),A={key:k,replyTo:n?{id:n.id,account:{id:n.account.id,username:n.account.username,acct:n.account.acct}}:null,draftStatus:{uid:u.current,status:q.current.value,spoilerText:K.current.value,visibility:re,language:te,sensitive:se,poll:O,mediaAttachments:M}};!Ia(A,ke.current)&&!we()&&(yn.drafts.set(k,{...A,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(C=>{}),ke.current=structuredClone(A))};oo(_e,5e3),ie(()=>(_e(),()=>{yn.drafts.del(xe())}),[]),ie(()=>{const k=C=>{const{items:D}=C.clipboardData||C.dataTransfer,G=[];for(let z=0;z<D.length;z++){const P=D[z];if(P.kind==="file"){const B=P.getAsFile();B&&w.includes(B.type)&&G.push(B)}}if(G.length>0&&M.length>=v){alert(`You can only attach up to ${v} files.`);return}if(G.length>0){C.preventDefault(),C.stopPropagation();const z=v-M.length,P=G.slice(0,z);if(P.length<=0){alert(`You can only attach up to ${v} files.`);return}const B=P.map(ee=>({file:ee,type:ee.type,size:ee.size,url:URL.createObjectURL(ee),id:null,description:null}));j([...M,...B])}};window.addEventListener("paste",k);const A=C=>{C.dataTransfer.items.length>0&&(C.preventDefault(),C.stopPropagation())};return window.addEventListener("dragover",A),window.addEventListener("drop",k),()=>{window.removeEventListener("paste",k),window.removeEventListener("dragover",A),window.removeEventListener("drop",k)}},[M]);const[pe,Le]=N(!1);return e("div",{id:"compose-container-outer",children:[e("div",{id:"compose-container",class:o?"standalone":"",children:[e("div",{class:"compose-top",children:[(d==null?void 0:d.avatarStatic)&&e(Re,{url:d.avatarStatic,size:"xl",alt:d.username,squircle:d==null?void 0:d.bot}),o?s&&e("button",{type:"button",class:"light pop-button",disabled:h==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||t({fn:()=>{const k={editStatus:a,replyToStatus:n,draftStatus:{uid:u.current,status:q.current.value,spoilerText:K.current.value,visibility:re,language:te,sensitive:se,poll:O,mediaAttachments:M}};window.opener.__COMPOSE__=k,window.opener.__STATES__.showCompose=!0}})},children:e(x,{icon:"popin",alt:"Pop in"})}):e("span",{children:[e("button",{type:"button",class:"light pop-button",disabled:h==="loading",onClick:()=>{if(!ao({editStatus:a,replyToStatus:n,draftStatus:{uid:u.current,status:q.current.value,spoilerText:K.current.value,visibility:re,language:te,sensitive:se,poll:O,mediaAttachments:M}})){alert("Looks like your browser is blocking popups.");return}t()},children:e(x,{icon:"popout",alt:"Pop out"})})," ",e("button",{type:"button",class:"light close-button",disabled:h==="loading",onClick:()=>{wt()&&t()},children:e(x,{icon:"x"})})]})]}),!!n&&e("div",{class:"status-preview",children:[e(Tn,{status:n,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend reply-to",children:["Replying to @",n.account.acct||n.account.username,"’s post"]})]}),!!a&&e("div",{class:"status-preview",children:[e(Tn,{status:a,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend",children:"Editing source post"})]}),e("form",{ref:ce,class:`form-visibility-${re}`,style:{pointerEvents:h==="loading"?"none":"auto",opacity:h==="loading"?.5:1},onKeyDown:k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&ce.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:k=>{k.preventDefault();const A=new FormData(k.target),C=Object.fromEntries(A.entries());let{status:D,visibility:G,sensitive:z,spoilerText:P}=C;if(z=z==="on",O){if(O.options.length<2){alert("Poll must have at least 2 options");return}if(O.options.some(B=>B==="")){alert("Some poll choices are empty");return}}M.length>0&&M.some(ee=>{var de,Te;return!((Te=(de=ee.description)==null?void 0:de.trim)!=null&&Te.call(de))})&&!confirm("Some media have no descriptions. Continue?")||(P=z&&P||void 0,D=D===""?void 0:D,m("loading"),(async()=>{try{if(M.length>0){const de=M.map(ge=>{const{file:Me,description:lt,id:Ee}=ge;if(Ee)return ge;{const le=Cn({file:Me,description:lt});return c.v2.mediaAttachments.create(le).then(Oe=>(Oe.id&&(ge.id=Oe.id),Oe))}}),Te=await Promise.allSettled(de);if(Te.some(ge=>{var Me;return ge.status==="rejected"||!((Me=ge.value)!=null&&Me.id)})){m("error"),Te.forEach(ge=>{ge.status==="rejected"&&alert(ge.reason||`Attachment #${i} failed`)});return}}let B={status:D,spoiler_text:P,language:te,sensitive:z,poll:O,media_ids:M.map(de=>de.id)};a&&Vn("@mastodon/edit-media-attributes")?B.media_attributes=M.map(de=>({id:de.id,description:de.description})):a||(B.visibility=G,B.in_reply_to_id=(n==null?void 0:n.id)||void 0),B=Cn(B);let ee;if(a)ee=await c.v1.statuses.update(a.id,B),be(ee,g,{skipThreading:!0});else try{ee=await c.v1.statuses.create(B,{idempotencyKey:u.current})}catch{ee=await c.v1.statuses.create(B)}m("default"),t({newStatus:ee,instance:g})}catch(B){alert((B==null?void 0:B.reason)||B),m("error")}})())},children:[e("div",{class:"toolbar stretch",children:[e("input",{ref:K,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:h==="loading",class:"spoiler-text-field",lang:te,spellCheck:"true",dir:"auto",style:{opacity:se?1:0,pointerEvents:se?"auto":"none"},onInput:()=>{Je()}}),e("label",{class:`toolbar-button ${se?"highlight":""}`,title:"Content warning or sensitive media",children:[e("input",{name:"sensitive",type:"checkbox",checked:se,disabled:h==="loading",onChange:k=>{var C,D;const A=k.target.checked;R(A),A?(C=K.current)==null||C.focus():(D=q.current)==null||D.focus()}}),e(x,{icon:`eye-${se?"close":"open"}`})]})," ",e("label",{class:`toolbar-button ${re!=="public"&&!se?"show-field":""} ${re!=="public"?"highlight":""}`,title:`Visibility: ${re}`,children:[e(x,{icon:Ke[re],alt:re}),e("select",{name:"visibility",value:re,onChange:k=>{ve(k.target.value)},disabled:h==="loading"||!!a,children:[e("option",{value:"public",children:["Public ",e(x,{icon:"earth"})]}),e("option",{value:"unlisted",children:"Unlisted"}),e("option",{value:"private",children:"Followers only"}),e("option",{value:"direct",children:"Private mention"})]})]})," "]}),e(Ro,{ref:q,placeholder:n?"Post your reply":a?"Edit your post":"What are you doing?",required:(M==null?void 0:M.length)===0,disabled:h==="loading",lang:te,onInput:()=>{Je()},maxCharacters:y,performSearch:k=>c.v2.search(k)}),(M==null?void 0:M.length)>0&&e("div",{class:"media-attachments",children:[M.map((k,A)=>{const{id:C,file:D}=k,G=(D==null?void 0:D.size)+(D==null?void 0:D.type)+(D==null?void 0:D.name);return e(Oo,{attachment:k,disabled:h==="loading",lang:te,onDescriptionChange:z=>{j(P=>{const B=[...P];return B[A].description=z,B})},onRemove:()=>{j(z=>z.filter((P,B)=>B!==A))}},C||G||A)}),e("label",{class:"media-sensitive",children:[e("input",{name:"sensitive",type:"checkbox",checked:se,disabled:h==="loading",onChange:k=>{const A=k.target.checked;R(A)}})," ",e("span",{children:"Mark media as sensitive"})," ",e(x,{icon:`eye-${se?"close":"open"}`})]})]}),!!O&&e(zo,{lang:te,maxOptions:U,maxExpiration:J,minExpiration:W,maxCharactersPerOption:Z,poll:O,disabled:h==="loading",onInput:k=>{if(k){const A={...k};Q(A)}else Q(null)}}),e("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[e("span",{children:[e("label",{class:"toolbar-button",children:[e("input",{type:"file",accept:w.join(","),multiple:M.length<v-1,disabled:h==="loading"||M.length>=v||!!O,onChange:k=>{const A=k.target.files;if(!A)return;const C=Array.from(A).map(D=>({file:D,type:D.type,size:D.size,url:URL.createObjectURL(D),id:null,description:null}));M.length+C.length>v?alert(`You can only attach up to ${v} files.`):j(D=>D.concat(C)),k.target.value=""}}),e(x,{icon:"attachment"})]})," ",e("button",{type:"button",class:"toolbar-button",disabled:h==="loading"||!!O||!!M.length,onClick:()=>{Q({options:["",""],expiresIn:24*60*60,multiple:!1})},children:e(x,{icon:"poll",alt:"Add poll"})})," ",e("button",{type:"button",class:"toolbar-button",disabled:h==="loading",onClick:()=>{Le(!0)},children:e(x,{icon:"emoji2"})})]}),e("div",{class:"spacer"}),h==="loading"?e(We,{abrupt:!0}):e(Mo,{maxCharacters:y,hidden:h==="loading"}),e("label",{class:`toolbar-button ${te!==ye.current?"highlight":""}`,children:[e("span",{class:"icon-text",children:(xt=Fo[te])==null?void 0:xt.native}),e("select",{name:"language",value:te,onChange:k=>{const{value:A}=k.target;X(A||Ce),$.session.set("currentLanguage",A||Ce)},disabled:h==="loading",children:Ut.sort(([k,A],[C,D])=>{const{contentTranslationHideLanguages:G=[]}=T.settings;return k===te||k===ye||k===Ce||G!=null&&G.includes(k)?-1:C===te||C===ye||C===Ce||G!=null&&G.includes(C)?1:A.localeCompare(D)}).map(([k,A,C])=>e("option",{value:k,children:[A," (",C,")"]}))})]})," ",e("button",{type:"submit",class:"large",disabled:h==="loading",children:n?"Reply":a?"Update":"Post"})]})]})]}),pe&&e(it,{class:"light",onClick:k=>{k.target===k.currentTarget&&Le(!1)},children:e(No,{masto:c,instance:g,onClose:()=>{Le(!1)},onSelect:k=>{const A=` ${k} `,C=q.current;if(!C)return;const{selectionStart:D,selectionEnd:G}=C,z=C.value,P=z.slice(0,D)+A+z.slice(G);C.value=P,C.selectionStart=C.selectionEnd=G+A.length,C.focus(),C.dispatchEvent(new Event("input"))}})})]})}const Ro=Dn((t,n)=>{var b;const{masto:a}=$e(),[r,o]=N(((b=n.current)==null?void 0:b.value)||""),{maxCharacters:s,performSearch:c=()=>{},...g}=t,m=st(T).composerCharacterCount,u=Y();ie(()=>{(async()=>{try{const y=await a.v1.customEmojis.list();u.current=y}catch{}})()},[]);const l=Y(),d=Y("");return ie(()=>{let y,v,f;return l.current&&(y=w=>{const{key:E,provide:F,text:L}=w.detail;if(d.current=L,L===""){F(Promise.resolve({matched:!1}));return}if(E===":"){const H=Bo(u.current,L);let U="";H.forEach(Z=>{const{shortcode:J,url:W}=Z;U+=`
                <li role="option" data-value="${Se(J)}">
                <img src="${Se(W)}" width="16" height="16" alt="" loading="lazy" /> 
                :${Se(J)}:
              </li>`}),De.innerHTML=U,F(Promise.resolve({matched:H.length>0,fragment:De}));return}const I={"@":"accounts","#":"hashtags"}[E];F(new Promise(H=>{c({type:I,q:L,limit:5}).then(Z=>{if(L!==d.current)return;const J=Z[I];let W="";J.forEach(q=>{const{name:K,avatarStatic:re,displayName:ve,username:se,acct:R,emojis:te}=q,X=Nn(ve,te);R?W+=`
                    <li role="option" data-value="${Se(R)}">
                      <span class="avatar">
                        <img src="${Se(re)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${X||se}</b>
                        <br>@${Se(R)}
                      </span>
                    </li>
                  `:W+=`
                    <li role="option" data-value="${Se(K)}">
                      <span>#<b>${Se(K)}</b></span>
                    </li>
                  `,De.innerHTML=W}),H({matched:J.length>0,fragment:De})})}))},l.current.addEventListener("text-expander-change",y),v=w=>{const{key:E,item:F}=w.detail;E===":"?w.detail.value=`:${F.dataset.value}:`:w.detail.value=`${E}${F.dataset.value}`},l.current.addEventListener("text-expander-value",v),f=w=>{const{input:E}=w.detail;o(E.value)},l.current.addEventListener("text-expander-committed",f)),()=>{l.current&&(l.current.removeEventListener("text-expander-change",y),l.current.removeEventListener("text-expander-value",v),l.current.removeEventListener("text-expander-committed",f))}},[]),e("text-expander",{ref:l,keys:"@ # :",children:e("textarea",{autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...g,ref:n,name:"status",value:r,onInput:y=>{var L;const{scrollHeight:v,offsetHeight:f,clientHeight:w,value:E}=y.target;o(E);const F=f-w;y.target.style.height=E?v+F+"px":null,(L=t.onInput)==null||L.call(t,y)},style:{width:"100%",height:"4em","--text-weight":(1+m/140).toFixed(1)||1}})})});function Mo({maxCharacters:t=500,hidden:n}){const r=st(T).composerCharacterCount,o=t-r;return n?e("meter",{class:"donut",hidden:!0}):e("meter",{class:`donut ${o<=-10?"explode":o<=0?"danger":o<=20?"warning":""}`,value:r,max:t,"data-left":o,title:`${o}/${t}`,style:{"--percentage":r/t*100}})}function Oo({attachment:t,disabled:n,lang:a,onDescriptionChange:r=()=>{},onRemove:o=()=>{}}){const s=Vn("@mastodon/edit-media-attributes"),{url:c,type:g,id:h}=t,[m,u]=N(t.description),l=g.split("/")[0],d=Da(r,250),[b,y]=N(!1),v=Y(null);ie(()=>{let w;return b&&v.current&&(w=setTimeout(()=>{v.current.focus()},100)),()=>{clearTimeout(w)}},[b]);const f=e(V,{children:h&&!s?e("div",{class:"media-desc",children:[e("span",{class:"tag",children:"Uploaded"}),e("p",{title:m,children:t.description||e("i",{children:"No description"})})]}):e("textarea",{ref:v,value:m||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[l],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:n,maxlength:"1500",onInput:w=>{const{value:E}=w.target;u(E),d(E)}})});return e(V,{children:[e("div",{class:"media-attachment",children:[e("div",{class:"media-preview",onClick:()=>{y(!0)},children:l==="image"?e("img",{src:c,alt:""}):l==="video"||l==="gifv"?e("video",{src:c,playsinline:!0,muted:!0}):l==="audio"?e("audio",{src:c,controls:!0}):null}),f,e("div",{class:"media-aside",children:e("button",{type:"button",class:"plain close-button",disabled:n,onClick:o,children:e(x,{icon:"x"})})})]}),b&&e(it,{onClick:w=>{w.target===w.currentTarget&&y(!1)},children:e("div",{id:"media-sheet",class:"sheet sheet-max",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>{y(!1)},children:e(x,{icon:"x"})}),e("header",{children:e("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[l]})}),e("main",{tabIndex:"-1",children:[e("div",{class:"media-preview",children:l==="image"?e("img",{src:c,alt:""}):l==="video"||l==="gifv"?e("video",{src:c,playsinline:!0,controls:!0}):l==="audio"?e("audio",{src:c,controls:!0}):null}),f]})]})})]})}function zo({lang:t,poll:n,disabled:a,onInput:r=()=>{},maxOptions:o,maxExpiration:s,minExpiration:c,maxCharactersPerOption:g}){const{options:h,expiresIn:m,multiple:u}=n;return e("div",{class:`poll ${u?"multiple":""}`,children:[e("div",{class:"poll-choices",children:h.map((l,d)=>e("div",{class:"poll-choice",children:[e("input",{required:!0,type:"text",value:l,disabled:a,maxlength:g,placeholder:`Choice ${d+1}`,lang:t,spellCheck:"true",dir:"auto",onInput:b=>{const{value:y}=b.target;h[d]=y,r(n)}}),e("button",{type:"button",class:"plain2 poll-button",disabled:a||h.length<=1,onClick:()=>{h.splice(d,1),r(n)},children:e(x,{icon:"x",size:"s"})})]},d))}),e("div",{class:"poll-toolbar",children:[e("button",{type:"button",class:"plain2 poll-button",disabled:a||h.length>=o,onClick:()=>{h.push(""),r(n)},children:"+"})," ",e("label",{class:"multiple-choices",children:[e("input",{type:"checkbox",checked:u,disabled:a,onChange:l=>{const{checked:d}=l.target;n.multiple=d,r(n)}})," ","Multiple choices"]}),e("label",{class:"expires-in",children:["Duration"," ",e("select",{value:m,disabled:a,onChange:l=>{const{value:d}=l.target;n.expiresIn=d,r(n)},children:Object.entries(Wn).filter(([l,d])=>d>=c&&d<=s).map(([l,d])=>e("option",{value:d,children:l},d))})]})]}),e("div",{class:"poll-toolbar",children:e("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{r(null)},children:"Remove poll"})})]})}function Bo(t,n){return n=n.toLowerCase(),t.sort((a,r)=>{let o=a.shortcode.toLowerCase(),s=r.shortcode.toLowerCase(),c=o.startsWith(n),g=s.startsWith(n),h=o.includes(n),m=s.includes(n);return c&&g?a.length-r.length:c?-1:g?1:h&&m?a.length-r.length:h?-1:m?1:0}).slice(0,5)}function Se(t){return t.replace(/[&<>"']/g,function(n){return"&#"+n.charCodeAt(0)+";"})}function Cn(t){for(let n in t)(t[n]===null||t[n]===void 0)&&delete t[n];return t}function No({masto:t,instance:n,onClose:a=()=>{},onSelect:r=()=>{}}){const[o,s]=N("default"),c=Y([]),[g,h]=N({}),m=He(()=>$.account.get("recentlyUsedCustomEmojis")||[]);return ie(()=>{s("loading"),(async()=>{try{const u=await t.v1.customEmojis.list(),l={"--recent--":m.filter(b=>u.find(y=>y.shortcode===b.shortcode))},d=[];u.forEach(b=>{var y,v;if(b.visibleInPicker){if((v=(y=c.current)==null?void 0:y.push)==null||v.call(y,b),!b.category){d.push(b);return}l[b.category]||(l[b.category]=[]),l[b.category].push(b)}}),d.length&&(l["--others--"]=d),h(l),s("default")}catch{s("error")}})()},[]),e("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(x,{icon:"x"})}),e("header",{children:[e("b",{children:"Custom emojis"})," ",o==="loading"?e(We,{}):e("small",{class:"insignificant",children:[" • ",n]})]}),e("main",{children:e("div",{class:"custom-emojis-list",children:[o==="error"&&e("div",{class:"ui-state",children:e("p",{children:"Error loading custom emojis"})}),o==="default"&&Object.entries(g).map(([u,l])=>!!(l!=null&&l.length)&&e(V,{children:[e("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[u]||u}),e("section",{children:l.map(d=>e("button",{type:"button",class:"plain4",onClick:()=>{a(),requestAnimationFrame(()=>{r(`:${d.shortcode}:`)});let b=$.account.get("recentlyUsedCustomEmojis")||[];const y=b.findIndex(v=>v.shortcode===d.shortcode);y!==-1?(b.splice(y,1),b.unshift(d)):(b.unshift(d),b=b.filter(v=>{var f,w;return(w=(f=c.current)==null?void 0:f.find)==null?void 0:w.call(f,E=>E.shortcode===v.shortcode)}),b=b.slice(0,10)),$.account.set("recentlyUsedCustomEmojis",b)},title:`:${d.shortcode}:`,children:e("img",{src:d.url||d.staticUrl,alt:d.shortcode,width:"16",height:"16",loading:"lazy",decoding:"async"})},d))})]}))]})})]})}const{VITE_CLIENT_NAME:Sn}={VITE_CLIENT_NAME:"Phanpy",VITE_CLIENT_ID:"social.phanpy",VITE_WEBSITE:"https://phanpy.social",VITE_APP_ENV:"production",BASE_URL:"/phanpy/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Jo(t,n){function a(){const{currentLocation:r}=T,o=Array.isArray(n);let s=o?n:[];!o&&/:?\w+\?/.test(n)&&(s.push(n.replace(/(:\w+)\?/g,"$1")),s.push(n.replace(/\/?:\w+\?/g,"")));let c=!1;s.length?c=s.some(g=>pn(g,r)):n&&(c=pn(n,r)),c&&(document.title=t?`${t} / ${Sn}`:Sn)}Nt(()=>(a(),In(T,"currentLocation",a)),[t,n])}export{Ka as A,zn as B,Un as C,zt as D,ot as E,Ja as F,fn as G,_t as H,x as I,_n as J,Ha as K,ct as L,Ot as M,tt as N,Xe as O,Ho as P,Ko as Q,kt as R,Tn as S,Qa as T,qo as U,ao as V,Go as W,_,$e as a,T as b,qe as c,Wo as d,Vt as e,$ as f,Re as g,Na as h,Ae as i,We as j,it as k,jn as l,yn as m,bt as n,gt as o,po as p,wn as q,uo as r,Vn as s,oo as t,Uo as u,ho as v,Pe as w,be as x,Jo as y,Bn as z};
//# sourceMappingURL=useTitle-af4239f1.js.map
